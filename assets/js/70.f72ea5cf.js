(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{424:function(t,s,a){"use strict";a.r(s);var e=a(56),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"环境配置-mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境配置-mysql"}},[t._v("#")]),t._v(" 环境配置-mysql")]),t._v(" "),a("p",[t._v("在CentOS中默认安装有MariaDB，这个是MySQL的分支，但为了需要，还是要在系统中安装MySQL，而且安装完成之后可以直接覆盖掉MariaDB。")]),t._v(" "),a("p",[a("a",{attrs:{name:"UWzho"}})]),t._v(" "),a("h2",{attrs:{id:"开始"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开始"}},[t._v("#")]),t._v(" 开始")]),t._v(" "),a("p",[a("a",{attrs:{name:"Lm1ij"}})]),t._v(" "),a("h4",{attrs:{id:"下载并安装mysql官方的-yum-repository"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下载并安装mysql官方的-yum-repository"}},[t._v("#")]),t._v(" 下载并安装MySQL官方的 Yum Repository")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# wget -i -c http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm")]),t._v("\n")])])]),a("p",[t._v("使用上面的命令就直接下载了安装用的Yum Repository，大概25KB的样子，然后就可以直接yum安装了。")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# yum -y install mysql57-community-release-el7-10.noarch.rpm")]),t._v("\n")])])]),a("p",[t._v("之后就开始安装MySQL服务器。这步可能会花些时间，安装完成后就会覆盖掉之前的mariadb。")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# yum -y install mysql-community-server")]),t._v("\n")])])]),a("p",[a("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2019/png/124615/1571379683059-04831dd3-d106-4cdf-9632-f91995bb6ebf.png#align=left&display=inline&height=236&name=image.png&originHeight=236&originWidth=489&size=19142&status=done&width=489",alt:"image.png"}}),a("br")]),t._v(" "),a("p",[a("a",{attrs:{name:"5f2ID"}})]),t._v(" "),a("h4",{attrs:{id:"mysql数据库设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql数据库设置"}},[t._v("#")]),t._v(" MySQL数据库设置")]),t._v(" "),a("p",[t._v("首先启动MySQL")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# systemctl start  mysqld.service")]),t._v("\n")])])]),a("p",[t._v("查看MySQL运行状态，运行状态如图：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# systemctl status mysqld.service")]),t._v("\n")])])]),a("p",[a("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2019/png/124615/1571379817118-ffadc9fa-fbb5-4669-b1d7-12211743fb3c.png#align=left&display=inline&height=245&name=image.png&originHeight=327&originWidth=650&size=56833&status=done&width=488",alt:"image.png"}}),a("br"),t._v("此时MySQL已经开始正常运行，不过要想进入MySQL还得先找出此时root用户的密码，通过如下命令可以在日志文件中找出密码：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# grep "password" /var/log/mysqld.log')]),t._v("\n")])])]),a("p",[a("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2019/png/124615/1571379872881-d69d9be3-9298-44a8-8cca-adedfc61711b.png#align=left&display=inline&height=36&name=image.png&originHeight=48&originWidth=937&size=11254&status=done&width=703",alt:"image.png"}}),a("br"),t._v("如下命令进入数据库：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# mysql -uroot -p")]),t._v("\n")])])]),a("p",[t._v("输入初始密码，此时不能做任何事情，因为MySQL默认必须修改密码之后才能操作数据库：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" ALTER "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("USER")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'localhost'")]),t._v(" IDENTIFIED BY "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'新的密码大写字母+数字+特殊符号'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("这里有个问题，新密码设置的时候如果设置的过于简单会报错："),a("br"),a("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2019/png/124615/1571379980817-342d3a82-fb63-422b-af94-00b9019ff767.png#align=left&display=inline&height=42&name=image.png&originHeight=42&originWidth=591&size=5748&status=done&width=591",alt:"image.png"}})]),t._v(" "),a("p",[a("a",{attrs:{name:"OlQZI"}})]),t._v(" "),a("h4",{attrs:{id:"使用mysql数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用mysql数据库"}},[t._v("#")]),t._v(" 使用mysql数据库")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" SHOW VARIABLES LIKE "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'validate_password%'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("a",{attrs:{name:"pQmFC"}})]),t._v(" "),a("h2",{attrs:{id:"参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"https://www.cnblogs.com/luohanguo/p/9045391.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("CentOS7 yum方式安装MySQL5.7"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=n.exports}}]);