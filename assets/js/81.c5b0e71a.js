(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{298:function(e,t,o){"use strict";o.r(t);var r=o(28),n=Object(r.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"恢复高度"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#恢复高度"}},[e._v("#")]),e._v(" 恢复高度")]),e._v(" "),o("div",{staticClass:"lake-content-editor-core lake-engine",attrs:{"data-lake-element":"root","data-selection-124615":"%7B%22path%22%3A%5B%5B7%2C0%2C1%2C0%2C3%2C0%2C0%2C0%5D%2C%5B7%2C0%2C1%2C0%2C3%2C0%2C0%2C0%5D%5D%2C%22uuid%22%3A%22124615%22%2C%22active%22%3Atrue%7D"}},[o("h2",{attrs:{id:"hooks方式"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#hooks方式"}},[e._v("#")]),e._v(" Hooks方式")]),e._v(" "),o("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[o("br")]),o("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[e._v("RestoredScroll.js")]),o("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"HmtR7"}},[o("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(38, 38, 38)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[o("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[o("div",{staticClass:"language-undefined extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("import { useEffect } from 'react'\nimport qs from 'qs'\nimport { debounce } from 'lodash-es'\nimport { getScrollTop } from '@@/utils/dom'\nimport { getSessionStorageCache } from '@@/utils/storage'\n\nconst RestoredScroll = ({ location, children }) => {\n const { pathname, query } = location\n const cacheKey = `${pathname}${qs.stringify(query)}`\n const cache = getSessionStorageCache(cacheKey)\n\n const storeScrollTop = debounce(() => {\n   const scrollTop = getScrollTop()\n   cache.set({ scrollTop })\n }, 500, { leading: false, trailing: true })\n\n useEffect(() => {\n   const scrollCache = cache.get()\n   const { scrollTop = 0 } = Object.assign({}, scrollCache)\n   setTimeout(() => {\n     window.scrollTo(0, scrollTop)\n   }, 0)\n\n   window.addEventListener('scroll', storeScrollTop)\n   return () => {\n     window.removeEventListener('scroll', storeScrollTop)\n   }\n }, [cacheKey])\n\n return children\n}\n\nexport default RestoredScroll \n")])])])])])]),o("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[o("br")]),o("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[e._v("配置路由")]),o("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[o("br")]),o("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"qNUr2"}},[o("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(38, 38, 38)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[o("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[o("div",{staticClass:"language-undefined extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("const routes = [\n {\n   path: '/',\n   component: '../layouts/RestoredScroll', // 这个是 上面的RestoredScroll.js\n   Routes: ['src/layouts/LoginRequired'],\n   routes: [\n     // 课程资源\n     {\n       path: '/resource',\n       routes: [\n         {\n           path: '/resource/:uniqueId',\n           component: './Resource/DetailPage',\n           Routes: ['src/layouts/ShareWrapper']\n         }\n       ]\n     }\n   ]\n }\n]  \n")])])])])])]),o("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[o("br")])])])}),[],!1,null,null,null);t.default=n.exports}}]);