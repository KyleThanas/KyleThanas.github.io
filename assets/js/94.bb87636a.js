(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{252:function(e,a,t){"use strict";t.r(a);var r=t(28),n=Object(r.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"promise总结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#promise总结"}},[e._v("#")]),e._v(" Promise总结")]),e._v(" "),t("div",{staticClass:"lake-content-editor-core lake-engine lake-typography-traditional",attrs:{"data-lake-element":"root"}},[t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"a20d224c568e48b9d67847a2c66a8c01_p_0"}},[t("br")]),e._v(" "),t("h2",{attrs:{id:"说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#说明"}},[e._v("#")]),e._v(" 说明")]),e._v(" "),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"4838965d80065e01b01bcecbc05930c6_p_1"}},[t("br")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"cc6f99e59b1db33cd88ff7134056045e_p_2"}},[e._v("Promise是一个构造函数，自己身上有call、resolve、reject，原型上有then、catch等方法。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"1e9f5784dfb0f3b356155c72edf9c761_p_3"}},[e._v("Promise 对象有以下两个特点。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"0c4d068e4aede2bc9d552ce387999b01_p_4"}},[t("br")]),t("ol",{staticStyle:{"list-style-type":"decimal",margin:"0px","padding-left":"23px","font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word"},attrs:{start:"1","data-lake-id":"0f973a2e58601dfc998937729e0e2ece_ol_0","lake-indent":"0"}},[t("li",{attrs:{"data-lake-id":"948300c6d77bd6d0aa71562cfb191bc5_li_0"}},[e._v("对象的状态不受外界影响。有三种状态：Pending（进行中）、Resolved（已完成，又称 Fulfilled）和 Rejected（已失败）。")])]),t("ol",{staticStyle:{"list-style-type":"decimal",margin:"0px","padding-left":"23px","font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word"},attrs:{start:"2","data-lake-id":"9f7d5715e8969dd4a409b87f1a05c5f8_ol_1","lake-indent":"0"}},[t("li",{attrs:{"data-lake-id":"ee512eb035016a4e8d246ab2590e512e_li_1"}},[e._v("一旦状态改变，就不会再变，任何时候都可以得到这个结果。Promise 对象的状态改变，只有两种可能：从 Pending 变为 Resolved 和从 Pending 变为 Rejected。")])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"7467903a77e4c43e92d4f196903d0bbe_p_5"}},[t("br")]),t("blockquote",{staticStyle:{"margin-top":"5px","margin-bottom":"5px","padding-left":"1em","margin-left":"0px","border-left":"3px solid rgb(238, 238, 238)",opacity:"0.6"}},[t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"81ff45062a490b925e473ef51201775d_p_6"}},[e._v("这与事件（Event）完全不同，事件的特点是，如果你错过了它，再去监听，是得不到结果的。")])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"e1b0979b54c1fb29acc1d92ad2159922_p_7"}},[t("br")]),e._v(" "),t("h2",{attrs:{id:"开始"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开始"}},[e._v("#")]),e._v(" 开始")]),e._v(" "),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"92c8228235b93f7cc9ced6ac90fca3a6_p_8"}},[t("br")]),e._v(" "),t("h4",{attrs:{id:"初步理解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#初步理解"}},[e._v("#")]),e._v(" 初步理解")]),e._v(" "),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"eadc4ec477465f1f239730d987d394b1_p_9"}},[t("br")]),t("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"lSCUt"}},[t("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[t("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[t("div",{staticClass:"language-undefined extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("var promise = new Promise(function(resolve, reject) {\n   setTimeout(function(){\n      console.log('完成')\n      resolve('随便什么东西')\n   }, 2000)\n}) \n")])])])])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"042da541aac17f869693ba89ebd10d8e_p_10"}},[t("br")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"b44b5a56ba1763cde74e1c54e7e8e54c_p_11"}},[e._v("类似这样，Promise的构造函数接受一个参数：函数。并且会传入两个参数resolve、reject，用来表示成功或者失败。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"09a2b5671cf447a1a3529d71c89cf9e1_p_12"}},[t("br")]),t("blockquote",{staticStyle:{"margin-top":"5px","margin-bottom":"5px","padding-left":"1em","margin-left":"0px","border-left":"3px solid rgb(238, 238, 238)",opacity:"0.6"}},[t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"35573c4675414052b821e6b0aed291b6_p_13"}},[e._v("一般情况会把promise放在一个函数中，当函数调用时候才会执行promise的操作。")])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"7cf79ceeaaf91ef14264b4c55c1c8c1d_p_14"}},[t("br")]),t("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"ndG7R"}},[t("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[t("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[t("div",{staticClass:"language-undefined extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("function runAsync(){\n   var p = new Promise(function(resolve, reject){\n       //做一些异步操作\n       setTimeout(function(){\n           console.log('执行完成');\n           resolve('随便什么数据');\n       }, 2000);\n   });\n   return p;            \n}\nrunAsync().then(function(data){\n   console.log(data);\n   //后面可以用传过来的数据做些其他操作\n   //......\n}); \n")])])])])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"c53070088aadb43ef468f61fca8ca22a_p_15"}},[t("br")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"b385b0d9cd459de25a71a93d2751c21a_p_16"}},[t("strong",[e._v("表面上看Promise只是简化层层的回调写法，实质上，Promise的精髓是"),t("code",[e._v("状态")])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"c5eaf555cee01ec836fc749258c6179d_p_17"}},[t("br")]),e._v(" "),t("h4",{attrs:{id:"链式操作的用法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#链式操作的用法"}},[e._v("#")]),e._v(" 链式操作的用法")]),e._v(" "),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"3f8949dd5527f0c9624c3fd3faefb76f_p_18"}},[t("br")]),t("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"RlBvw"}},[t("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[t("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[t("div",{staticClass:"language-undefined extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("function runAsync1(){\n   var p = new Promise(function(resolve, reject){\n       //做一些异步操作\n       setTimeout(function(){\n           console.log('异步任务1执行完成');\n           resolve('随便什么数据1');\n       }, 1000);\n   });\n   return p;            \n}\nfunction runAsync2(){\n   var p = new Promise(function(resolve, reject){\n       //做一些异步操作\n       setTimeout(function(){\n           console.log('异步任务2执行完成');\n           resolve('随便什么数据2');\n       }, 2000);\n   });\n   return p;            \n}\nfunction runAsync3(){\n   var p = new Promise(function(resolve, reject){\n       //做一些异步操作\n       setTimeout(function(){\n           console.log('异步任务3执行完成');\n           resolve('随便什么数据3');\n       }, 2000);\n   });\n   return p;            \n} \n")])])])])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"bac67e7fcdfb0acc75b3cf54e2dd1141_p_19"}},[t("br")]),t("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"wFweO"}},[t("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[t("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[t("div",{staticClass:"language-undefined extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("runAsync1()\n.then(function(data){\n   console.log(data);\n   return runAsync2();\n})\n.then(function(data){\n   console.log(data);\n   return runAsync3();\n})\n.then(function(data){\n   console.log(data);\n}); \n")])])])])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"db841a6e995b001085603629a3ace379_p_20"}},[t("br")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"4b2fa6818a24349a76e399b90e1f5be5_p_21"}},[t("span",{attrs:{"data-card-type":"inline","data-lake-card":"image"}},[t("img",{staticClass:"image lake-drag-image",staticStyle:{visibility:"visible",border:"none","box-shadow":"none",width:"115px",height:"124px"},attrs:{"data-role":"image",src:"https://cdn.nlark.com/yuque/0/2019/png/124615/1552380345703-5f3a357b-7ed4-434c-ae82-06f6838b7653.png","data-raw-src":"https://cdn.nlark.com/yuque/0/2019/png/124615/1552380345703-5f3a357b-7ed4-434c-ae82-06f6838b7653.png"}})])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"37928cd1f32681ee4810a9ab9d3c1104_p_22"}},[t("br")]),t("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"zYyRF"}},[t("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[t("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[t("div",{staticClass:"language-undefined extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("runAsync1()\n.then(function(data){\n   console.log(data);\n   return runAsync2();\n})\n.then(function(data){\n   console.log(data);\n   return '直接返回数据';  //这里直接返回数据\n})\n.then(function(data){\n   console.log(data);\n}); \n")])])])])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"4547a4b65fb57fca5301c6973643450c_p_23"}},[t("br")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"5802da12a3dfe285b48d4a5ffefbaf99_p_24"}},[t("span",{attrs:{"data-card-type":"inline","data-lake-card":"image"}},[t("img",{staticClass:"image lake-drag-image",staticStyle:{visibility:"visible",border:"none","box-shadow":"none",width:"194px",height:"154px"},attrs:{"data-role":"image",src:"https://cdn.nlark.com/yuque/0/2019/png/124615/1552380345650-844d47d6-67a9-41bc-92ac-b6b91d8d074b.png","data-raw-src":"https://cdn.nlark.com/yuque/0/2019/png/124615/1552380345650-844d47d6-67a9-41bc-92ac-b6b91d8d074b.png"}})])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"3afe72986fc83f6913935faccbcf69b2_p_25"}},[t("br")]),e._v(" "),t("h4",{attrs:{id:"reject的用法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#reject的用法"}},[e._v("#")]),e._v(" reject的用法")]),e._v(" "),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"b57de0a6a045efefe71d109094be9ddc_p_26"}},[t("br")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"d98ee6fd6e3f1cb5c2b1e9056c6e8b52_p_27"}},[e._v("reject的作用就是把Promise的状态置为rejected，这样我们在then中就能捕捉到，然后执行“失败”情况的回调。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"d17d837b16c49a0e5c21edc18722e410_p_28"}},[t("br")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"7292c20c94e649bfcbc41d3dcbe3da16_p_29"}},[e._v("then方法可以接受两个参数，第一个对应resolve的回调，第二个对应reject的回调。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"d657ac1e4c3211af4f7dcea889518735_p_30"}},[t("br")]),t("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"UnfXb"}},[t("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[t("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[t("div",{staticClass:"language-undefined extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("var promise = new Promise((resolve, reject) => {\n   reject('失败')\n})\npromise.then((data) =>{\n   console.log('success：' + data)\n},(reason) => {\n   console.log('error：' + reason);\n}) \n")])])])])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"e2e9b10bfede90e88bd47291199e0b55_p_31"}},[t("br")]),e._v(" "),t("h4",{attrs:{id:"catch的用法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#catch的用法"}},[e._v("#")]),e._v(" catch的用法")]),e._v(" "),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"bb3e20f1faeaf6bf9497bffd7f381295_p_32"}},[t("br")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"a0b9ad53d5c0aa9399a0d001f7a99da6_p_33"}},[e._v("Promise除了then还有catch方法，他和then的第二个参数一样，用来指定reject的回调。但是他还有一个作用："),t("code",[e._v("当在执行resolve的回调时候，如果出现异常那么js不会卡死，而是会进入到catch方法中。")])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"39abba9494ef6da94608fbd0e487aa60_p_34"}},[t("br")]),t("blockquote",{staticStyle:{"margin-top":"5px","margin-bottom":"5px","padding-left":"1em","margin-left":"0px","border-left":"3px solid rgb(238, 238, 238)",opacity:"0.6"}},[t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"f42d72693d5d5c2f5c9d08ff984bc19c_p_35"}},[e._v("当catch上面有处理reject的函数时候，会一级一级的处理，而不是直接跳到catch中。")])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"6f8f966688575a1f666bafa122494f73_p_36"}},[t("br")]),t("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"7ZIMq"}},[t("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[t("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[t("div",{staticClass:"language-undefined extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("function getNumber(){\n   var p = new Promise(function(resolve, reject){\n       //做一些异步操作\n       setTimeout(function(){\n           var num = Math.ceil(Math.random()*10); //生成1-10的随机数\n           if(num<=5){\n               resolve(num);\n           }\n           else{\n               reject('数字太大了');\n           }\n       }, 2000);\n   });\n   return p;            \n}\ngetNumber()\n.then(function(data){\n   console.log(data);\n   console.log(somedata); //此处的somedata未定义\n}).then((data) =>{\n   console.log('success：' + data)\n},(reason) => {\n   console.log('error：' + reason);\n})\n.catch(function(reason){\n   console.error(reason);\n}); \n")])])])])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"ab57135091a86c42cc63ec67ac068a45_p_37"}},[t("br")]),e._v(" "),t("h4",{attrs:{id:"all的用法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#all的用法"}},[e._v("#")]),e._v(" all的用法")]),e._v(" "),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"82f45866a429f6224b2e92c65bfda254_p_38"}},[t("br")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"85f22630d8e3a5d01fb7ff2927f36d33_p_39"}},[e._v("Promise的all方法提供了并行执行异步操作的能力，并且在所有异步操作执行完后才执行回调。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"17b412f9fc3ec51ada5f566f0d09108c_p_40"}},[t("br")]),t("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"HuA34"}},[t("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[t("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[t("div",{staticClass:"language-undefined extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("Promise\n.all([runAsync1(), runAsync2(), runAsync3()])\n.then(function(results){\n   console.log(results);\n}); \n")])])])])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"d9d31f80b21bee6005ee4bb0be1d9a6b_p_41"}},[t("br")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"168fae69e2221bbd7daed2e57bd17bb1_p_42"}},[t("span",{attrs:{"data-card-type":"inline","data-lake-card":"image"}},[t("img",{staticClass:"image lake-drag-image",staticStyle:{visibility:"visible",border:"none","box-shadow":"none",width:"572px",height:"376px"},attrs:{"data-role":"image",src:"https://cdn.nlark.com/yuque/0/2019/png/124615/1552380345693-3ec7f29e-a5dc-4d5f-8afa-685e2cc02453.png","data-raw-src":"https://cdn.nlark.com/yuque/0/2019/png/124615/1552380345693-3ec7f29e-a5dc-4d5f-8afa-685e2cc02453.png"}})])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"4930f2b57b08d977b4a7a79433f23490_p_43"}},[t("br")]),e._v(" "),t("h4",{attrs:{id:"race的用法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#race的用法"}},[e._v("#")]),e._v(" race的用法")]),e._v(" "),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"157b805d005afe38c7c2d5198b31ee6e_p_44"}},[t("br")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"0cf2d25a44f00a5166d857c5cab15fa4_p_45"}},[e._v("all => "),t("code",[e._v("谁跑的慢，以谁为准执行回调")])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"e81b6efc8e2153cf8aa53e3b04d7f22c_p_46"}},[t("br")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"dd14cba43d75303fdb2f07bd6a8da3b5_p_47"}},[e._v("race => "),t("code",[e._v("谁跑的快，以谁为准执行回调")])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"aa95668f5a65b03373d1b0b3f9f8d3a6_p_48"}},[t("br")]),t("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"id764"}},[t("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[t("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[t("div",{staticClass:"language-undefined extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("Promise\n.race([runAsync1(), runAsync2(), runAsync3()])\n.then(function(results){\n   console.log(results);\n}); \n")])])])])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"233f53790c0b9d757f931748dd4d9e1e_p_49"}},[t("br")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"78725f5b5d95b70790a2c08f5ccd1ad2_p_50"}},[t("span",{attrs:{"data-card-type":"inline","data-lake-card":"image"}},[t("img",{staticClass:"image lake-drag-image",staticStyle:{visibility:"visible",border:"none","box-shadow":"none",width:"334px",height:"178px"},attrs:{"data-role":"image",src:"https://cdn.nlark.com/yuque/0/2019/png/124615/1552380345646-5f194c42-c55a-47df-bf3d-45a46c0dc4ca.png","data-raw-src":"https://cdn.nlark.com/yuque/0/2019/png/124615/1552380345646-5f194c42-c55a-47df-bf3d-45a46c0dc4ca.png"}})])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"d5720271454c788347574e8ffe694eb8_p_51"}},[e._v("在then里面的回调开始执行时，runAsync2()和runAsync3()并没有停止，仍旧再执行。于是再过1秒后，输出了他们结束的标志。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"bc2359f7bb1e32241fa27f528e60a125_p_52"}},[t("br")]),e._v(" "),t("h4",{attrs:{id:"race的应用场景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#race的应用场景"}},[e._v("#")]),e._v(" race的应用场景")]),e._v(" "),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"0c6a7643ebb3931744a90899eb00ce0b_p_53"}},[t("br")]),t("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"pRp25"}},[t("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[t("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[t("div",{staticClass:"language-undefined extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("function requestImg(){\n   var p = new Promise(function(resolve, reject){\n       var img = new Image();\n       img.onload = function(){\n           resolve(img);\n       }\n       img.src = 'xxxxxx';\n   });\n   return p;\n}\n//延时函数，用于给请求计时\nfunction timeout(){\n   var p = new Promise(function(resolve, reject){\n       setTimeout(function(){\n           reject('图片请求超时');\n       }, 5000);\n   });\n   return p;\n}\nPromise\n.race([requestImg(), timeout()])\n.then(function(results){\n   console.log(results);\n})\n.catch(function(reason){\n   console.log(reason);\n}); \n")])])])])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"e10b5c78ee7ba45f407740af88433fc9_p_54"}},[t("br")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"a74a1ae9e5a12e5ca252284043884853_p_55"}},[t("span",{attrs:{"data-card-type":"inline","data-lake-card":"image"}},[t("img",{staticClass:"image lake-drag-image",staticStyle:{visibility:"visible",border:"none","box-shadow":"none",width:"344px",height:"61px"},attrs:{"data-role":"image",src:"https://cdn.nlark.com/yuque/0/2019/png/124615/1552380345653-fec06646-1b53-4aa3-a274-faf4f133aa77.png","data-raw-src":"https://cdn.nlark.com/yuque/0/2019/png/124615/1552380345653-fec06646-1b53-4aa3-a274-faf4f133aa77.png"}})])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"a6e7204180aba568d27cc7b95d0717fd_p_56"}},[t("br")]),e._v(" "),t("h4",{attrs:{id:"finally"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#finally"}},[e._v("#")]),e._v(" finally")]),e._v(" "),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"67592880a847e874a0da3af4d564ef1f_p_57"}},[t("br")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"c8abf75ccb5d5e161e9a75a84c7f9e8c_p_58"}},[t("code",[e._v("finally")]),e._v("方法用于指定不管 Promise 对象最后状态如何，都会执行的操作。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"1b325e2e939e9ae8679222558eaaceb6_p_59"}},[t("br")]),t("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"tbcox"}},[t("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[t("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[t("div",{staticClass:"language-undefined extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("promise\n.then(result => {···})\n.catch(error => {···})\n.finally(() => {···}); \n")])])])])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"daa3e859dfee1b8825cb9c219dcb2526_p_60"}},[t("br")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"98a35ca8fad9c25cb66db5f3b9aa5207_p_61"}},[e._v("finally方法的回调函数不接受任何参数，这意味着没有办法知道，前面的 Promise 状态到底是fulfilled还是rejected。这表明，finally方法里面的操作，应该是与状态无关的，不依赖于 Promise 的执行结果。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"9b034733f43578c770243b15c945bc07_p_62"}},[t("br")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"f95490aec8e60fcf21cc472a3a8d6c42_p_63"}},[t("code",[e._v("finally")]),e._v("本质上是"),t("code",[e._v("then")]),e._v("方法的特例。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"b3add770127d8c2a5064673aa8a9731f_p_64"}},[t("br")]),e._v(" "),t("h2",{attrs:{id:"promise的异常捕获方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#promise的异常捕获方式"}},[e._v("#")]),e._v(" Promise的异常捕获方式")]),e._v(" "),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"2a81d6eed31dfd1dc3c193bbdb75c1a1_p_65"}},[t("br")]),e._v(" "),t("h4",{attrs:{id:"在promise的构造体内进行错误处理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在promise的构造体内进行错误处理"}},[e._v("#")]),e._v(" 在Promise的构造体内进行错误处理")]),e._v(" "),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"cf44cb59378505901ec625cdc88d7d91_p_66"}},[t("br")]),t("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"aZril"}},[t("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[t("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[t("div",{staticClass:"language-undefined extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("var promise=new Promise(function(resolve,reject){\n  try {\n     throw new Error('test');\n  }catch(e){\n     reject(e)\n  }\n}) \n")])])])])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"152302cc03cd3433e252fd8fbe4bade7_p_67"}},[t("br")]),e._v(" "),t("h4",{attrs:{id:"通过promise-prototype-catch来进行错误处理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#通过promise-prototype-catch来进行错误处理"}},[e._v("#")]),e._v(" 通过Promise.prototype.catch来进行错误处理")]),e._v(" "),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"f67c084ec5a7dd840c4c56ee24cc368e_p_68"}},[t("br")]),t("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"Q1MzQ"}},[t("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[t("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[t("div",{staticClass:"language-undefined extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("var promise=new Promise(function(resolve,reject){\n  reject(new Error('test'));\n})\npromise.catch(function(e){\n//something to deal with the error\nconsole.log(e)\n}) \n")])])])])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"956e0d4312e941b77cd57ec35c294aff_p_69"}},[t("br")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"6adaf94dc864ab353011ef235c1c576a_p_70"}},[e._v("catch方面里面还可以再抛错误，这个错误会被后面的catch捕获")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"b7f5c253c3fb3956b40638fc0613cbf9_p_71"}},[t("br")]),t("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"rqhZE"}},[t("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[t("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[t("div",{staticClass:"language-undefined extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("var promise=new Promise(function(resolve,reject){\n reject(new Error('test1'))\n})\npromise.catch(function(e){\n console.log(e);\n throw new Error('test2')\n}).catch(function(e){\n console.log(e)\n})\n \n // Error : test1\n // Error : test2 \n")])])])])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"200b796b4b1f5a36aa12caae6b6fa3d8_p_72"}},[t("br")]),e._v(" "),t("h4",{attrs:{id:"promise-all中的异常捕获"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#promise-all中的异常捕获"}},[e._v("#")]),e._v(" Promise.all中的异常捕获")]),e._v(" "),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"7e9db6e1dddd1090f9cbf7742b89f0d6_p_73"}},[t("br")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"2a1dd0a113bb768bc1da1b3231f20175_p_74"}},[e._v("如果组成Promise.all的promise有自己的错误捕获方法，那么Promise.all中的catch就不能捕获该错误。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"cee026a6997be2fe2ca3b5d6e2ce2bf0_p_75"}},[t("br")]),t("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"HTkQh"}},[t("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[t("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[t("div",{staticClass:"language-undefined extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("var p1=new Promise(function(resolve,reject){\n reject(new Error('test1'))\n}).catch(function(e){\n console.log(\"由p1自身捕获\",e);\n})\nvar p2=new Promise(function(resolve,reject){\n resolve();\n})\nvar p=Promise.all([p1,p2]);\np.then(function(){\n\n}).catch(function(e){\n //在此处捕获不到p1中的error\n console.log(e)\n})\n//由p1自身捕获 Error: test1 \n")])])])])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"391eee0f96cca26f6e7df243706d21bf_p_76"}},[t("br")]),e._v(" "),t("h4",{attrs:{id:"在promise中无法被捕获的错误"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在promise中无法被捕获的错误"}},[e._v("#")]),e._v(" 在promise中无法被捕获的错误")]),e._v(" "),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"9fc1a1e32cf7c324fef5888bc3009382_p_77"}},[t("br")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"f3e91be24f829b03e96745b7fba0d311_p_78"}},[e._v("在promise实例resolve之后，错误无法被捕获。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"f855fcce122120d1233c03106e601338_p_79"}},[t("br")]),t("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"W0COo"}},[t("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[t("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[t("div",{staticClass:"language-undefined extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("var promise=new Promise(function(resolve,reject){\n  resolve();\n  throw new Error('test');//该错误无法被捕获\n})\npromise.then(function(){\n //\n}).then(function(e){\n console.log(e)\n}) \n")])])])])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"cacc5e28cdefa24e262c83e0ab2a3ade_p_80"}},[t("br")]),e._v(" "),t("h2",{attrs:{id:"支持"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#支持"}},[e._v("#")]),e._v(" 支持")]),e._v(" "),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"00780844004a7920ee455d8665291201_p_81"}},[t("br")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"26a32298e674fcc8df3ec37efec0e260_p_82"}},[t("span",{attrs:{"data-card-type":"inline","data-lake-card":"image"}},[t("img",{staticClass:"image lake-drag-image",staticStyle:{visibility:"visible",border:"none","box-shadow":"none",width:"746px",height:"235px"},attrs:{"data-role":"image",src:"https://cdn.nlark.com/yuque/0/2019/png/124615/1552380345695-65572da9-995b-4263-80f0-bac9ad13107e.png","data-raw-src":"https://cdn.nlark.com/yuque/0/2019/png/124615/1552380345695-65572da9-995b-4263-80f0-bac9ad13107e.png"}})])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"03e302196e8780e913af9a46da27f675_p_83"}},[t("span",{attrs:{"data-card-type":"inline","data-lake-card":"image"}},[t("img",{staticClass:"image lake-drag-image",staticStyle:{visibility:"visible",border:"none","box-shadow":"none",width:"746px",height:"266px"},attrs:{"data-role":"image",src:"https://cdn.nlark.com/yuque/0/2019/png/124615/1552380345783-b513a8c7-1f36-4cc1-bdd5-718c07043fac.png","data-raw-src":"https://cdn.nlark.com/yuque/0/2019/png/124615/1552380345783-b513a8c7-1f36-4cc1-bdd5-718c07043fac.png"}})])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"470257ffbff08ad0eedbc557452f8c66_p_84"}},[t("br")]),e._v(" "),t("h2",{attrs:{id:"常见问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[e._v("#")]),e._v(" 常见问题")]),e._v(" "),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"bd02ded472df593f8e23bb50569c5ce4_p_85"}},[t("br")]),e._v(" "),t("h2",{attrs:{id:"参考"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[e._v("#")]),e._v(" 参考")]),e._v(" "),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"c07d4a2054239914d4a014d7d64fcf23_p_86"}},[t("br")]),t("ol",{staticStyle:{"list-style-type":"decimal",margin:"0px","padding-left":"23px","font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word"},attrs:{start:"1","data-lake-id":"7127eaaaad1b74d8239137ab5d7ebd4b_ol_2","lake-indent":"0"}},[t("li",{attrs:{"data-lake-id":"64fa198b3063ed601f9b0b7c3768e7a4_li_2"}},[t("a",{attrs:{href:"https://www.cnblogs.com/whybxy/p/7645578.html",target:"_blank"}},[e._v("ES6 Promise 用法讲解")])])]),t("ol",{staticStyle:{"list-style-type":"decimal",margin:"0px","padding-left":"23px","font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word"},attrs:{start:"2","data-lake-id":"fe6dbd87e02e4f5dba51ce7d5461d113_ol_3","lake-indent":"0"}},[t("li",{attrs:{"data-lake-id":"d8f25542ee53fea5b9a2e58d20d83026_li_3"}},[t("a",{attrs:{href:"https://github.com/forthealllight/blog/issues/16",target:"_blank"}},[e._v("总结一下ES6/ES7中promise、generator和async/await中的异常捕获方法")])])]),t("ol",{staticStyle:{"list-style-type":"decimal",margin:"0px","padding-left":"23px","font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word"},attrs:{start:"3","data-lake-id":"36a630c5314f862ebcc391896b349767_ol_4","lake-indent":"0"}},[t("li",{attrs:{"data-lake-id":"4acd0db5326677bccf3bd52e8ceaa2c5_li_4"}},[t("a",{attrs:{href:"http://es6.ruanyifeng.com/#docs/promise#Promise-prototype-then",target:"_blank"}},[e._v("Promise 对象 - ECMAScript6入门")])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"bd67236b6b40e1ddeba66aa4c905c5af_p_87"}},[t("br")]),e._v(" "),t("h2",{attrs:{id:"总结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[e._v("#")]),e._v(" 总结")]),e._v(" "),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"ac4c0d2013d04adfac6d2e9459525ac0_p_88"}},[t("br")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"9e4d89813dfbada86f9f225aeecbc8b2_p_89"}},[e._v("无")])])])}),[],!1,null,null,null);a.default=n.exports}}]);