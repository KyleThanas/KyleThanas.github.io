(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{267:function(t,e,a){"use strict";a.r(e);var r=a(0),o=Object(r.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"图片上传"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#图片上传"}},[t._v("#")]),t._v(" 图片上传")]),t._v(" "),a("div",{staticClass:"lake-content-editor-core lake-engine",attrs:{"data-lake-element":"root","data-selection-124615":"%7B%22path%22%3A%5B%5B39%2C0%2C1%2C0%2C3%2C0%2C0%2C0%5D%2C%5B39%2C0%2C1%2C0%2C3%2C0%2C0%2C0%5D%5D%2C%22uuid%22%3A%22124615%22%2C%22active%22%3Atrue%7D"}},[a("h2",{attrs:{id:"预计目标"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#预计目标"}},[t._v("#")]),t._v(" 预计目标")]),t._v(" "),a("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[a("br")]),a("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[a("span",{staticStyle:{color:"#98c379"}}),a("span",{attrs:{"data-card-type":"inline","data-lake-card":"image"}},[a("img",{staticClass:"image lake-drag-image",staticStyle:{visibility:"visible",width:"189px",height:"336px"},attrs:{"data-role":"image",src:"https://cdn.nlark.com/yuque/0/2019/png/124615/1569312964177-4d49de1f-fb29-4a94-b28d-d0bf171c3246.png","data-raw-src":"https://cdn.nlark.com/yuque/0/2019/png/124615/1569312964177-4d49de1f-fb29-4a94-b28d-d0bf171c3246.png",alt:"image.png",title:"image.png"}})]),a("span",{attrs:{"data-card-type":"inline","data-lake-card":"image"}},[a("img",{staticClass:"image lake-drag-image",staticStyle:{visibility:"visible",width:"189.5px",height:"336px"},attrs:{"data-role":"image",src:"https://cdn.nlark.com/yuque/0/2019/png/124615/1569313008104-25b207c9-f456-45d6-8093-0728edccc162.png","data-raw-src":"https://cdn.nlark.com/yuque/0/2019/png/124615/1569313008104-25b207c9-f456-45d6-8093-0728edccc162.png",alt:"image.png",title:"image.png"}})]),a("span",{attrs:{"data-card-type":"inline","data-lake-card":"image"}},[a("img",{staticClass:"image lake-drag-image",staticStyle:{visibility:"visible",width:"189.5px",height:"336px"},attrs:{"data-role":"image",src:"https://cdn.nlark.com/yuque/0/2019/png/124615/1569312940535-1109a310-8148-4ca4-8419-4fae383aff85.png","data-raw-src":"https://cdn.nlark.com/yuque/0/2019/png/124615/1569312940535-1109a310-8148-4ca4-8419-4fae383aff85.png",alt:"image.png",title:"image.png"}})])]),a("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[a("br")]),t._v(" "),a("h2",{attrs:{id:"需要的功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#需要的功能"}},[t._v("#")]),t._v(" 需要的功能")]),t._v(" "),a("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[a("br")]),a("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[a("em",[t._v("图片大小限制")])]),a("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"BWtaL"}},[a("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(38, 38, 38)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[a("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[a("div",{staticClass:"language-undefined extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(" \n")])])])])])]),a("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[a("br")]),a("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[a("em",[t._v("图片上传")])]),a("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"UlRbS"}},[a("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(38, 38, 38)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[a("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[a("div",{staticClass:"language-undefined extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(" \n")])])])])])]),a("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[a("br")]),a("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[a("em",[t._v("图片压缩")])]),a("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"0JKd3"}},[a("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(38, 38, 38)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[a("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[a("div",{staticClass:"language-undefined extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(" \n")])])])])])]),a("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[a("br")]),a("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[a("em",[t._v("图片base64转file")])]),a("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"elhba"}},[a("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(38, 38, 38)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[a("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[a("div",{staticClass:"language-undefined extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(" \n")])])])])])]),a("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[a("br")]),a("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[a("em",[t._v("判断移动端图片是 竖图还是横图")])]),a("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[a("em",[a("a",{attrs:{href:"https://github.com/exif-js/exif-js/blob/master/README.md",target:"_blank"}},[t._v("Exif-js github文档")])])]),a("div",{attrs:{"data-card-type":"block","data-lake-card":"table",id:"XqhgZ"}},[a("table",{staticClass:"lake-table",staticStyle:{outline:"none","border-collapse":"collapse"}},[a("colgroup",[a("col",{attrs:{width:"248",span:"1"}}),a("col",{attrs:{width:"248",span:"1"}})]),a("tbody",[a("tr",{staticStyle:{height:"33px"}},[a("td",{staticStyle:{"vertical-align":"top","background-color":"rgb(255, 255, 255)",color:"rgb(38, 38, 38)","min-width":"90px","font-size":"14px","white-space":"normal","overflow-wrap":"break-word",border:"1px solid rgb(217, 217, 217)",padding:"4px 8px",cursor:"default"},attrs:{colspan:"1"}},[a("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[a("strong",[t._v("orientation值")])])]),a("td",{staticStyle:{"vertical-align":"top","background-color":"rgb(255, 255, 255)",color:"rgb(38, 38, 38)","min-width":"90px","font-size":"14px","white-space":"normal","overflow-wrap":"break-word",border:"1px solid rgb(217, 217, 217)",padding:"4px 8px",cursor:"default"},attrs:{colspan:"1",rowspan:"1"}},[a("strong",[t._v("旋转角度")])])]),a("tr",{staticStyle:{height:"33px"}},[a("td",{staticStyle:{"min-width":"90px","font-size":"14px","white-space":"normal","overflow-wrap":"break-word",border:"1px solid rgb(217, 217, 217)",padding:"4px 8px",cursor:"default"}},[t._v("1")]),a("td",{staticStyle:{"min-width":"90px","font-size":"14px","white-space":"normal","overflow-wrap":"break-word",border:"1px solid rgb(217, 217, 217)",padding:"4px 8px",cursor:"default"}},[t._v("0°")])]),a("tr",{staticStyle:{height:"33px"}},[a("td",{staticStyle:{"min-width":"90px","font-size":"14px","white-space":"normal","overflow-wrap":"break-word",border:"1px solid rgb(217, 217, 217)",padding:"4px 8px",cursor:"default"}},[t._v("3")]),a("td",{staticStyle:{"min-width":"90px","font-size":"14px","white-space":"normal","overflow-wrap":"break-word",border:"1px solid rgb(217, 217, 217)",padding:"4px 8px",cursor:"default"}},[t._v("180°")])]),a("tr",{staticStyle:{height:"33px"}},[a("td",{staticStyle:{"min-width":"90px","font-size":"14px","white-space":"normal","overflow-wrap":"break-word",border:"1px solid rgb(217, 217, 217)",padding:"4px 8px",cursor:"default"}},[t._v("6")]),a("td",{staticStyle:{"min-width":"90px","font-size":"14px","white-space":"normal","overflow-wrap":"break-word",border:"1px solid rgb(217, 217, 217)",padding:"4px 8px",cursor:"default"}},[t._v("顺时针90°")])]),a("tr",{staticStyle:{height:"33px"}},[a("td",{staticStyle:{"min-width":"90px","font-size":"14px","white-space":"normal","overflow-wrap":"break-word",border:"1px solid rgb(217, 217, 217)",padding:"4px 8px",cursor:"default"},attrs:{colspan:"1"}},[t._v("8")]),a("td",{staticStyle:{"min-width":"90px","font-size":"14px","white-space":"normal","overflow-wrap":"break-word",border:"1px solid rgb(217, 217, 217)",padding:"4px 8px",cursor:"default"},attrs:{colspan:"1"}},[t._v("逆时针90°")])])])])]),a("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"o3TkO"}},[a("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(38, 38, 38)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[a("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[a("div",{staticClass:"language-undefined extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(" \n")])])])])])]),a("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[a("br")]),a("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[a("em",[t._v("canvas图片旋转")])]),a("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"Ge8Sh"}},[a("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(38, 38, 38)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[a("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[a("div",{staticClass:"language-undefined extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(" \n")])])])])])]),a("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[a("br")]),t._v(" "),a("h2",{attrs:{id:"完整代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#完整代码"}},[t._v("#")]),t._v(" 完整代码")]),t._v(" "),a("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[a("br")]),a("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[t._v("index.js")]),a("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"n3HVu"}},[a("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(38, 38, 38)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[a("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[a("div",{staticClass:"language-undefined extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(" \n")])])])])])]),a("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[a("br")]),a("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[t._v("imageCrop.js")]),a("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"VQVFl"}},[a("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(38, 38, 38)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[a("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[a("div",{staticClass:"language-undefined extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(" \n")])])])])])]),a("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[a("br")]),a("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[a("span",[t._v("腾讯云存储照片  ")]),a("span",[t._v("cos.js+")]),a("span",[t._v("utils.js")])]),a("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[t._v("cos.js")]),a("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"X6IIO"}},[a("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(38, 38, 38)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[a("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[a("div",{staticClass:"language-undefined extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(" \n")])])])])])]),a("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[a("br")]),a("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[t._v("utils.js")]),a("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"3ml5i"}},[a("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(38, 38, 38)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[a("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[a("div",{staticClass:"language-undefined extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(" \n")])])])])])]),a("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[a("br")]),t._v(" "),a("h2",{attrs:{id:"莫名的坑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#莫名的坑"}},[t._v("#")]),t._v(" 莫名的坑")]),t._v(" "),a("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[a("br")]),a("ol",{staticStyle:{"list-style-type":"decimal",margin:"0px","padding-left":"23px","font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word"},attrs:{start:"1","lake-indent":"0"}},[a("li",[t._v("在安卓上无法上传图片的问题，不能触发onChange，解决办法 修改"),a("strong",[a("em",[a("span",[t._v("accept")])])]),a("span",[t._v("为：")]),t._v(" "),a("strong",[a("em",[t._v("accept")])]),a("strong",[a("span",{staticStyle:{color:"#56b6c2"}},[t._v("=")]),a("span",{staticStyle:{color:"#98c379"}},[t._v("'image/*'")])])])]),a("p",{staticStyle:{"padding-left":"2em","text-indent":"2em","font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"}},[t._v("详细解释：如果在input上面添加了"),a("em",[a("span",[t._v("accept字段，并且设置了一些值（png,jpeg,jpg），会发现，有的安卓是触发不了onChange，因为在")])]),a("em",[a("span",[t._v("accept的时候发生了拦截，使input的值未发生改变，所以建议使用")])]),a("strong",[a("em",[t._v("accept")])]),a("strong",[a("span",{staticStyle:{color:"#56b6c2"}},[t._v("=")])]),a("strong",[a("span",{staticStyle:{color:"#98c379"}},[t._v("'image/*'")])]),a("span",{staticStyle:{color:"#000000"}},[t._v("，在onChange里面写格式判断。")])]),a("ol",{staticStyle:{"list-style-type":"decimal",margin:"0px","padding-left":"23px","font-size":"14px",color:"rgb(38, 38, 38)","line-height":"24px","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word"},attrs:{start:"2","lake-indent":"0"}},[a("li",[t._v("自动打开相机，而没有让用户选择相机或相册，解决办法 去掉  "),a("span",{staticStyle:{color:"#000000"}},[a("strong",[a("em",[t._v("capture")])])]),a("strong",[a("span",{staticStyle:{color:"#98c379"}},[a("em",[t._v('="camera"')])])])]),a("li",[a("strong",[t._v("手机拍照，或者手机里面度竖图")]),t._v("，发生左转90度的变化，就需要"),a("strong",[t._v("单独判断是不是竖图，然后向右旋转")])])])])])}),[],!1,null,null,null);e.default=o.exports}}]);