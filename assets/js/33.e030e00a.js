(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{271:function(e,a,t){"use strict";t.r(a);var o=t(28),r=Object(o.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"前端宝石💎for-of"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前端宝石💎for-of"}},[e._v("#")]),e._v(" 前端宝石💎for...of")]),e._v(" "),t("div",{staticClass:"lake-content-editor-core lake-engine lake-typography-classic",attrs:{"data-lake-element":"root"}},[t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"a20d224c568e48b9d67847a2c66a8c01_p_0"}},[t("code",[e._v("ES2015")]),e._v(" 版本中引入的 "),t("code",[e._v("for...of")]),e._v(" 语句就是这种情况。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"a324b4edcd934d5a35e3e1bda690377c"}},[t("code",[e._v("for...of")]),t("span",{staticStyle:{color:"#333333"}},[e._v(" 可以迭代数组、类数组以及任何可以迭代的对象(")]),t("code",[e._v("maps")]),t("span",{staticStyle:{color:"#333333"}},[e._v("、")]),t("code",[e._v("sets")]),t("span",{staticStyle:{color:"#333333"}},[e._v("、")]),t("code",[e._v("DOM集合")]),t("span",{staticStyle:{color:"#333333"}},[e._v(")，并且，")]),t("code",[e._v("for...of")]),t("span",{staticStyle:{color:"#333333"}},[e._v(" 的语句还很短。")])]),e._v(" "),t("h2",{attrs:{id:"开始"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开始"}},[e._v("#")]),e._v(" 开始")]),e._v(" "),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"d49a3b3538fef6fe155fb575fd2d382a"}},[t("span",{staticStyle:{color:"#333333"}},[t("br")])]),e._v(" "),t("h4",{attrs:{id:"数组迭代"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数组迭代"}},[e._v("#")]),e._v(" 数组迭代")]),e._v(" "),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"a55a5367a733a52e1501c9231a060e1c"}},[t("code",[e._v("for...of")]),e._v(" 最常见的应用是对数组项进行迭代。该循环可以高效得完成迭代，而无需其他变量来保持索引。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"7c6b3ca2b22ca9c51bb4b8db2de94045"}},[e._v("例如:")]),t("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"q3ENI"}},[t("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[t("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[t("div",{staticClass:"language-undefined extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const products = ['oranges', 'apples'];\nfor (const product of products) {\n console.log(product);\n}\n// 'oranges'\n// 'apples' \n")])])])])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"5b7f555c7c2dcbcc47de8770b4f113ca"}},[t("code",[e._v("for...of")]),e._v(" 循环遍历 "),t("code",[e._v("products")]),e._v(" 的每一项。迭代项被赋值给变量 "),t("code",[e._v("product")]),e._v(".")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"8d6350ec53a32665d4804bd840a52ca0"}},[e._v("数组方法 "),t("code",[e._v("entries()")]),e._v(" 可以用于访问迭代项的索引。该方法在每次迭代时返回一对 "),t("code",[e._v("[index，item]")]),e._v("。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"01d6b151257c166c5145d27d1d86b32d"}},[e._v("就地解构是 "),t("code",[e._v("for...of")]),e._v(" 的另一个重要功能，我们将在下一部分中对其进行详细说明。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"31fe3bd370659e5c78dbe46a17e3a1df"}},[t("br")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"28e5ed4fa8cf133053a8e903f06c090e"}},[t("strong",[e._v("就地解构")])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"a94967fcdd3a648a194899960cea04f9"}},[e._v("首先，我们来看一下 "),t("code",[e._v("for...of")]),e._v(" 循环的语法：")]),t("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"ABsQx"}},[t("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[t("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[t("div",{staticClass:"language-undefined extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("for (LeftHandSideExpression of Expression) {\n // statements\n} \n")])])])])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"3c741f3c35490145b2df3b587481eacb"}},[t("code",[e._v("LeftHandSideExpression")]),e._v(" 表达式可以替换为任意赋值表达式左侧的内容。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"b8a26a6ce01bf7d5c5c532ee27c7092b"}},[e._v("在前面的示例中，"),t("code",[e._v("LeftHandSideExpression")]),e._v(" 是一个变量声明 "),t("code",[e._v("const product")]),e._v(" ，甚至是一个解构 "),t("code",[e._v("const [index，product]")]),e._v("。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"8b7a1f9e7eb11af1aa32ba95fc3edeba"}},[e._v("因此，"),t("code",[e._v("for...of")]),e._v(" 的语法支持实现迭代项的解构。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"8d63648baab9fda56175411076e5c1dd"}},[e._v("让我们遍历一个对象数组，提取每个对象的 "),t("code",[e._v("name")]),e._v(" 属性：")]),t("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"hkSRA"}},[t("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[t("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[t("div",{staticClass:"language-undefined extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const persons = [\n { name: 'John Smith' },\n { name: 'Jane Doe' }\n];\nfor (const { name } of persons) {\n console.log(name);\n}\n// 'John Smith'\n// 'Jane Doe' \n")])])])])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"e550fe970299efd80a446e92192b6dc1"}},[t("code",[e._v("const { name } of persons")]),e._v(" 循环迭代 "),t("code",[e._v("persons")]),e._v(" 对象数组，并且就地将 "),t("code",[e._v("person")]),e._v(" 对象进行了解构。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"25cb1e3cb676b6044ba46bb470b54dc3"}},[t("br")]),e._v(" "),t("h4",{attrs:{id:"类数组迭代"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#类数组迭代"}},[e._v("#")]),e._v(" 类数组迭代")]),e._v(" "),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"01b31734fcd991f6c9d1e966ff7e40e9"}},[t("code",[e._v("for...of")]),e._v(" 可以用于迭代类数组对象。"),t("code",[e._v("arguments")]),e._v(" 是函数体内的特殊变量，包含函数的所有参数，这是一个经典的类数组对象。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"c62b3465b1968a9ce13cc249b6c524a4"}},[e._v("让我们写一个求和函数 "),t("code",[e._v("sum(num1, num2, ..., numN)")]),e._v("：")]),t("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"6wG29"}},[t("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[t("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[t("div",{staticClass:"language-undefined extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("function sum() {\n let sum = 0;\n for (const number of arguments) {\n   sum += number;\n }\n return sum;\n}\nsum(1, 2, 3); // => 6 \n")])])])])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"bf07b671e3ec06c66f3b4f9f043473c9"}},[e._v("在每次迭代中，"),t("code",[e._v("for...of")]),e._v(" 循环遍历类数组 "),t("code",[e._v("arguments")]),e._v(" 中的每一个数，并计算总和。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"8291337457d751d3c6872915883dcc36"}},[t("br")]),e._v(" "),t("h4",{attrs:{id:"快速了解可迭代"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#快速了解可迭代"}},[e._v("#")]),e._v(" 快速了解可迭代")]),e._v(" "),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"f5287a10e28998c5e17161e5c6f03c47"}},[e._v("什么是可迭代对象？它是支持"),t("a",{attrs:{target:"_blank",href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Iteration_protocols"}},[e._v("可迭代协议")]),e._v("的对象。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"8f1bc4fc4c064d508c0ee0d6c20d37d3"}},[e._v("我们可以通过查看 "),t("code",[e._v("Symbol.iterator")]),e._v(" 方法来确定某个数据是否可迭代。例如，下面的例子显示了数组是可迭代的：")]),t("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"bhlmN"}},[t("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[t("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[t("div",{staticClass:"language-undefined extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const array = [1, 2, 3];\nconst iterator1 = array[Symbol.iterator]();\niterator1.next(); // => { value: 1, done: false } \n")])])])])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"4f1a6d18da8bf62ef7a63041f4195760"}},[e._v("如果你想了解更多信息，可以随时阅读我"),t("a",{attrs:{target:"_blank",href:"https://dmitripavlutin.com/how-three-dots-changed-javascript/#5-spread-operator-and-iteration-protocols"}},[e._v("之前的文章")]),e._v("。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"b94bf71b98db8ff7fc7e2e9d79c4f001"}},[t("code",[e._v("for...of")]),e._v(" 接受可迭代对象。这很棒，因为现在你可以遍历"),t("code",[e._v("string")]),e._v("、数组、类数组、"),t("code",[e._v("set")]),e._v("、"),t("code",[e._v("map")]),e._v("，同时仍可以享受 "),t("code",[e._v("for...of")]),e._v(" 的简洁。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"96ee7524a260cd93243dc3b02a2c5605"}},[t("br")]),e._v(" "),t("h4",{attrs:{id:"字符串迭代"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#字符串迭代"}},[e._v("#")]),e._v(" 字符串迭代")]),e._v(" "),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"b60778a6d913b8ed74fffc9fd31b2413"}},[t("code",[e._v("JavaScript")]),e._v(" 的基础类型 "),t("code",[e._v("string")]),e._v(" 是可迭代的。因此，可以轻松地遍历字符串的字符。")]),t("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"R9Fdu"}},[t("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[t("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[t("div",{staticClass:"language-undefined extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const message = 'hello';\nfor (const character of message) {\n console.log(character);\n}\n// 'h'\n// 'e'\n// 'l'\n// 'l'\n// 'o' \n")])])])])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"13a6e9c2ba2dfce95006c674ece0cbec"}},[t("code",[e._v("message")]),e._v(" 是一个字符串。由于字符串可迭代的，因此 "),t("code",[e._v("for...of")]),e._v(" 循环遍历 "),t("code",[e._v("message")]),e._v(" 。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"9a404edc685f9a12f0573c9c64ad0e96"}},[t("br")]),e._v(" "),t("h4",{attrs:{id:"map-和-set-迭代"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#map-和-set-迭代"}},[e._v("#")]),e._v(" Map 和 Set 迭代")]),e._v(" "),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"b4cef28777dc3fe4741143ecbcc1caca"}},[t("code",[e._v("Map")]),e._v(" 是一个特殊的对象，将键与值相关联。键可以是任何基本类型（通常是 "),t("code",[e._v("string")]),e._v("，但可以是 "),t("code",[e._v("number")]),e._v(" 等）。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"577cd5fa1b04d166bcb17accc026a3fc"}},[e._v("幸运的是，"),t("code",[e._v("Map")]),e._v(" 也是可迭代的（在键/值对上进行迭代），并且 "),t("code",[e._v("for...of")]),e._v(" 可以轻松地循环迭代所有键/值对。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"c8d86b2f69895d5a7e8560b7adc25987"}},[e._v("一起看一下：")]),t("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"nPSzC"}},[t("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[t("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[t("div",{staticClass:"language-undefined extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const names = new Map();\nnames.set(1, 'one');\nnames.set(2, 'two');\nfor (const [number, name] of names) {\n console.log(number, name);\n}\n// logs 1, 'one'\n// logs 2, 'two' \n")])])])])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"e4eb7980688afb51c6dc1c9d0de48c3e"}},[t("code",[e._v("for (const [number, name] of names)")]),e._v(" 迭代 "),t("code",[e._v("names")]),e._v(" 的键值对。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"ab433d4d4f82246967f5e3a890e6a2e3"}},[e._v("在每个循环中，迭代器都会返回一个数组 "),t("code",[e._v("[key，value]")]),e._v(" ，并使用 "),t("code",[e._v("const [number，name]")]),e._v(" 立即对这对数组进行解构。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"3f8a962d5cec294629e4f6766805b0eb"}},[e._v("以相同的方式可以遍历 "),t("code",[e._v("Set")]),e._v(" 的项：")]),t("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"7DBF9"}},[t("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[t("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[t("div",{staticClass:"language-undefined extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const colors = new Set(['white', 'blue', 'red', 'white']);\nfor (let color of colors) {\n console.log(color);\n}\n// 'white'\n// 'blue'\n// 'red' \n")])])])])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"cdd8cc370f4cd7a2a596491c53f39fdd"}},[t("br")]),e._v(" "),t("h4",{attrs:{id:"迭代普通的javascript对象"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#迭代普通的javascript对象"}},[e._v("#")]),e._v(" 迭代普通的JavaScript对象")]),e._v(" "),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"abd1e63402c026813e5f8581dea2f097"}},[e._v("尝试遍历普通JS对象的属性/值总是很痛苦。过去，我通常使用 "),t("code",[e._v("Object.keys()")]),e._v(" 获取对象的键，然后使用 "),t("code",[e._v("forEach")]),e._v(" 来迭代键数组。【译者：这不代表本人观点，我比较喜欢用 "),t("code",[e._v("for...in")]),e._v(" 遍历对象，不过需要注意"),t("code",[e._v("for...in")]),e._v("的副作用哈】")]),t("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"koqWi"}},[t("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[t("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[t("div",{staticClass:"language-undefined extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const person = {\n name: 'John Smith',\n job: 'agent'\n};\nObject.keys(person).forEach(prop => {\n console.log(prop, person[prop]);\n});\n// 'name', 'John Smith'\n// 'job', 'agent' \n")])])])])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"3e68bc7b85fac5faf94357812138363f"}},[e._v("新的 "),t("code",[e._v("Object.entries()")]),e._v(" 函数与 "),t("code",[e._v("for...of")]),e._v(" 组合使用是个不错的选择：")]),t("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"eG6Sk"}},[t("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[t("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[t("div",{staticClass:"language-undefined extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const person = {\n name: 'John Smith',\n job: 'agent'\n};\nfor (const [prop, value] of Object.entries(person)) {\n console.log(prop, value);\n}\n// 'name', 'John Smith'\n// 'job', 'agent' \n")])])])])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"3ba61053d256793f9d1535c2c1d042f9"}},[t("code",[e._v("Object.entries(person)")]),e._v(" 返回一个键和值的元组数组："),t("code",[e._v("[[''name'，'John Smith']，['job'，'agent']]")]),e._v("。然后，使用 "),t("code",[e._v("for...of")]),e._v(" 循环遍历数组，并将每个元组解构为 "),t("code",[e._v("const [prop，value]")]),e._v("。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"365a208815df05f4f18b8de6346fa70e"}},[t("br")]),e._v(" "),t("h4",{attrs:{id:"遍历dom集合"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#遍历dom集合"}},[e._v("#")]),e._v(" 遍历DOM集合")]),e._v(" "),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"ca2b6b9f28e9c995636594ba352ec1ac"}},[e._v("你可能知道 "),t("code",[e._v("HTMLCollection")]),e._v(" 令人沮丧。主要是因为 "),t("code",[e._v("HTMLCollection")]),e._v(" 是一个类数组的对象（而不是常规数组），所以我们无法使用数组的方法。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"96f767ec7ee63a3d21be9176e40f8d0f"}},[e._v("例如，每个 "),t("code",[e._v("DOM")]),e._v(" 元素的 "),t("code",[e._v("children")]),e._v(" 属性都是 "),t("code",[e._v("HTMLCollection")]),e._v(" 。好在 "),t("code",[e._v("for...of")]),e._v(" 可以在类似数组的对象上进行迭代，因此我们可以轻松地迭代 "),t("code",[e._v("children")]),e._v("：")]),t("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"qDduJ"}},[t("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[t("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[t("div",{staticClass:"language-undefined extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const children = document.body.children;\nfor (const child of children) {\n console.log(child); // logs each child of \n} \n")])])])])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"0660a417f52343d7e880e4e2421c74b8"}},[e._v("此外，"),t("code",[e._v("for...of")]),e._v(" 可以迭代 "),t("code",[e._v("NodeList")]),e._v(" 集合（可迭代）。例如，函数 "),t("code",[e._v("document.querySelectorAll(query)")]),e._v(" 返回一个 "),t("code",[e._v("NodeList")]),e._v("：")]),t("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"8N6gh"}},[t("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[t("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[t("div",{staticClass:"language-undefined extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const allImages = document.querySelectorAll('img');\nfor (const image of allImages) {\n console.log(image); // log each image in the document\n} \n")])])])])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"267dc9dde1c5858d993f9648ffcf54b4"}},[e._v("如果你想遍历 "),t("code",[e._v("DOM")]),e._v(" 中的不同种类的集合，那么 "),t("code",[e._v("for...of")]),e._v(" 语句是一个不错的选择。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"1b4f80db2b0d62293191579755f29b70"}},[t("br")]),e._v(" "),t("h2",{attrs:{id:"性能"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#性能"}},[e._v("#")]),e._v(" 性能")]),e._v(" "),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"b829ba2b995a4a282ec6302bb8352353"}},[e._v("迭代大型数组时，"),t("code",[e._v("for...of")]),e._v(" 的执行速度可能会比经典方法慢：")]),t("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"B0Xjb"}},[t("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[t("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[t("div",{staticClass:"language-undefined extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const a = [/* big array */];\nfor (let i = 0; i < a.length; i++) {\n console.log(a[i]);\n} \n")])])])])])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"3a6f08ccd969d44fd8ad3b32123cfa42"}},[e._v("在每次迭代中调用迭代器比通过增加索引访问的开销更大。但是，这种细微差别在使用大型数组的应用程序中以及性能至关重要的应用程序中非常重要，不过这种情况很少发生。")]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"fabb18746faf49e4657b992a35315532"}},[t("br")]),e._v(" "),t("h2",{attrs:{id:"总结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[e._v("#")]),e._v(" 总结")]),e._v(" "),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"eb961fd7bd1491a9b2ffde8926022c0d"}},[e._v("为什么说 "),t("code",[e._v("for...of")]),e._v(" 是一颗宝石，因为：")]),t("ul",{staticStyle:{"list-style-type":"disc",margin:"0px","padding-left":"23px","font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word"},attrs:{"data-lake-id":"b4c62cbf47f0cdec30b90735b478e49b","lake-indent":"0"}},[t("li",{attrs:{"data-lake-id":"c105f5ae8acd8244361a17ebff63845e"}},[e._v("它简明扼要")]),t("li",{attrs:{"data-lake-id":"4e31dc0182a595fd00c2c7ec7d7f13a5"}},[e._v("它接受迭代器，包括数组，字符串，"),t("code",[e._v("Set")]),e._v("，"),t("code",[e._v("Map")]),e._v("，DOM集合")]),t("li",{attrs:{"data-lake-id":"a21dec20bb47cffe662b50c6e576ada9"}},[e._v("它接受类数组对象")]),t("li",{attrs:{"data-lake-id":"6e069c253f59afc500857f803871b135"}},[e._v("迭代的项目可以在就地解构")])]),t("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"ad3e71d77f9b6c4c5fa9672bba552ce4"}},[t("span",{staticStyle:{color:"#333333"}},[t("br")])]),e._v(" "),t("h2",{attrs:{id:"参考"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[e._v("#")]),e._v(" 参考")]),e._v(" "),t("ol",{staticStyle:{"list-style-type":"decimal",margin:"0px","padding-left":"23px","font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word"},attrs:{"data-lake-id":"37b692fdfacf559d3d166db60e4f10cc",start:"1","lake-indent":"0"}},[t("li",{attrs:{"data-lake-id":"5bcc3728f7a601ab0197fb7f5c6bd3b9"}},[t("a",{attrs:{href:"https://juejin.im/post/5e82978af265da47ee3f4a16?utm_source=gold_browser_extension",target:"_blank"}},[e._v("为什么说for...of是JS中的一颗宝石")])])])])])}),[],!1,null,null,null);a.default=r.exports}}]);