(window.webpackJsonp=window.webpackJsonp||[]).push([[140],{450:function(t,s,a){"use strict";a.r(s);var e=a(56),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"rest-client"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rest-client"}},[t._v("#")]),t._v(" REST Client")]),t._v(" "),a("p",[a("a",{attrs:{name:"1JAzy"}})]),t._v(" "),a("h2",{attrs:{id:"vscode安装-rest-client-插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vscode安装-rest-client-插件"}},[t._v("#")]),t._v(" vscode安装 REST Client 插件")]),t._v(" "),a("p",[a("a",{attrs:{name:"v90QC"}})]),t._v(" "),a("h4",{attrs:{id:"_1-创建一个-http-或-rest-文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建一个-http-或-rest-文件"}},[t._v("#")]),t._v(" 1.创建一个 .http 或 .rest 文件")]),t._v(" "),a("p",[a("a",{attrs:{name:"4RSOj"}})]),t._v(" "),a("h4",{attrs:{id:"_2-写入测试接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-写入测试接口"}},[t._v("#")]),t._v(" 2.写入测试接口")]),t._v(" "),a("p",[t._v("符合 RFC 2616 标准的请求")]),t._v(" "),a("div",{staticClass:"language-http extra-class"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token request-line"}},[a("span",{pre:!0,attrs:{class:"token method property"}},[t._v("GET")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("http://172.16.248.12:32407/account/is-purchased?courseProductId=1695944")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("content-type:")]),t._v(" application/json\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("x-request-token:")]),t._v(" 8fd35f4a4647dca2608f99e1f948865c\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Accept:")]),t._v(" */*\n")])])]),a("div",{staticClass:"language-http extra-class"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token request-line"}},[a("span",{pre:!0,attrs:{class:"token method property"}},[t._v("POST")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("http://172.16.248.12:32407/credits/coupon/draw")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("content-type:")]),t._v(" application/json\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("x-request-token:")]),t._v(" 8fd35f4a4647dca2608f99e1f948865c\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Accept:")]),t._v(" */*"),a("span",{pre:!0,attrs:{class:"token application-json"}},[t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"couponBaseSn"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"417044078270611456"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),a("p",[t._v("符合 cURL 标准的请求")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -X GET "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://172.16.248.12:32407/account/is-purchased?courseProductId=1695944"')]),t._v(" -H "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"accept: */*"')]),t._v(" -H "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"X-Request-Token: 8fd35f4a4647dca2608f99e1f948865c"')]),t._v("\n")])])]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -X POST "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://172.16.248.12:32407/credits/coupon/draw"')]),t._v(" -H "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"accept: */*"')]),t._v(" -H "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"X-Request-Token: 8fd35f4a4647dca2608f99e1f948865c"')]),t._v(" -H "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Content-Type: application/json"')]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{ '),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("couponBaseSn"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v(": "),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("417044078270611456"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('}"')]),t._v("\n")])])]),a("p",[a("a",{attrs:{name:"6QuC0"}})]),t._v(" "),a("h4",{attrs:{id:"_3-发送请求-测试接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-发送请求-测试接口"}},[t._v("#")]),t._v(" 3.发送请求，测试接口")]),t._v(" "),a("p",[t._v("点击 Send Request ，或者右键选择 Send Request ，或者直接用快捷键 Ctrl+Alt+R（或Cmd+Alt+R） ，你的 REST API 就执行了，然后 API Response 就会显示在右边区域。"),a("br")]),t._v(" "),a("p",[a("a",{attrs:{name:"LGvgo"}})]),t._v(" "),a("h4",{attrs:{id:"_4-自定义环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-自定义环境变量"}},[t._v("#")]),t._v(" 4.自定义环境变量")]),t._v(" "),a("p",[t._v("不同的环境（开发、测试、生产），API 接口参数可能有所不同。"),a("br"),t._v("点击 Code => Preferences => Settings 打开设置，切换到 Workspace Settings ，配置 settings.json 文件。")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"rest-client.environmentVariables"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"$shared"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"v1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"prodToken"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"foo"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"nonProdToken"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bar"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"local"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"v2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"host"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"localhost"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dummyhost"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"local"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"token"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{{$shared nonProdToken}}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"secretKey"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"devSecret"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"production"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"host"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"api.apiopen.top"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dummyhost"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dummy.restapiexample.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"token"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{{$shared prodToken}}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"secretKey"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"prodSecret"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('当然，rest-client 还有更多的配置项，例如：\nrest-client.defaultHeaders：默认的 header 请求体，默认为 { "User-Agent": "vscode-restclient", "Accept-Encoding": "gzip" } ；\nrest-client.timeoutinmilliseconds：超时时长，默认为 0 ms；\nrest-client.previewOption：控制哪些部分应该通过rest-client预览，可选 full 、 headers 、 body 、 exchange ，默认为 full；\nrest-client.followredirect：是否支持 HTTP 3xx 的重定向，默认支持；\n')])])]),a("p",[a("a",{attrs:{name:"xp9Ec"}})]),t._v(" "),a("h4",{attrs:{id:"_5-自定义文件变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-自定义文件变量"}},[t._v("#")]),t._v(" 5.自定义文件变量")]),t._v(" "),a("div",{staticClass:"language-http extra-class"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[t._v("\n### 文件变量\n@port = 8080\n@contentType = application/json\n\n### 测试接口 RFC 2616\n// 文件变量\n@name = musicRankings\n"),a("span",{pre:!0,attrs:{class:"token request-line"}},[a("span",{pre:!0,attrs:{class:"token method property"}},[t._v("GET")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token request-target url"}},[t._v("https://{{host}}/{{name}}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token http-version property"}},[t._v("HTTP/1.1")])]),t._v("\n")])])]),a("p",[a("a",{attrs:{name:"QmZUJ"}})]),t._v(" "),a("h4",{attrs:{id:"_6-自定义请求变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-自定义请求变量"}},[t._v("#")]),t._v(" 6.自定义请求变量")]),t._v(" "),a("p",[t._v("当单个请求结果的值需要被其它请求使用时，可以使用请求变量，格式为：@name newname ，请求变量引用语法为:")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("{{requestName.(response|request).(body|headers).(JSONPath|XPath|Header Name)}}\n\n@contentType = application/json\n\n###\n\n# @name createComment\nPOST https://{{host}}/comments HTTP/1.1\nContent-Type: {{contentType}}\n\n###\n\n# @name getCreatedComment\n\nGET https://{{host}}/comments/{{createComment.response.body.$.id}} HTTP/1.1\n\nAuthorization: {{login.response.headers.X-AuthToken}}\n")])])]),a("p",[a("a",{attrs:{name:"TCEwS"}})]),t._v(" "),a("h4",{attrs:{id:"_7-系统变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-系统变量"}},[t._v("#")]),t._v(" 7.系统变量")]),t._v(" "),a("p",[t._v("系统自带的一些变量，使用系统变量需要有 $符号")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("{{$guid}}唯一识别号\n{{$randomInt min max}}返回一个min 和 max 之间的随机数\n{{$timestamp [offset option]}}：添加UTC时间戳。\n{{$timestamp number option}}，例如3小时前{{$timestamp -3 h}};代表后天{{$timestamp 2 d}}。\n")])])]),a("p",[a("a",{attrs:{name:"akGJS"}})]),t._v(" "),a("h2",{attrs:{id:"参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"https://juejin.im/post/5e2067f7f265da3e405028fb?utm_source=gold_browser_extension",target:"_blank",rel:"noopener noreferrer"}},[t._v("是时候抛弃Postman了，试试 VS Code 自带神器插件👏👏👏"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=n.exports}}]);