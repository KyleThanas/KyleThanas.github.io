(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{237:function(t,a,e){"use strict";e.r(a);var n=e(28),r=Object(n.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"地图画区"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#地图画区"}},[t._v("#")]),t._v(" 地图画区")]),t._v(" "),e("div",{staticClass:"lake-content-editor-core lake-engine lake-typography-traditional",attrs:{"data-lake-element":"root"}},[e("h2",{attrs:{id:"获取地名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#获取地名"}},[t._v("#")]),t._v(" 获取地名")]),t._v(" "),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"a20d224c568e48b9d67847a2c66a8c01_p_0"}},[e("br")]),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"bb6a10789af15b69f1b710852f4f4e05_p_1"}},[t._v("在html中获取地名，格式如：“邯郸市火车站”，城市名+地名的形式")]),e("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"Fw6P1"}},[e("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[e("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[e("div",{staticClass:"language-undefined extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("//地图的父组件\nshowLocationRequest(str) {\n    let pramas = new FormData();\n    pramas.append(\"address\", str);\n    this.http.post(this.hostUrl + 'Api/showLocation', pramas).subscribe(\n        (response: Analysis) => {\n            this.showLocationChange.next(response);\n        }\n    )\n} \n")])])])])])]),t._v(" "),e("h4",{attrs:{id:"接口"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#接口"}},[t._v("#")]),t._v(" 接口")]),t._v(" "),e("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"35o5H"}},[e("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[e("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[e("div",{staticClass:"language-undefined extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("http://www.mapocc.com/Api/showLocation/address/邯郸市火车站 \n")])])])])])]),e("p",{staticStyle:{"text-align":"center","font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"85ebca5d3b684fde460a497978c4f677_p_2"}},[e("span",{attrs:{"data-card-type":"inline","data-lake-card":"image"}},[e("img",{staticClass:"image lake-drag-image",staticStyle:{visibility:"visible",border:"none","box-shadow":"none",width:"746px",height:"121px"},attrs:{"data-role":"image",src:"https://cdn.nlark.com/yuque/0/2019/png/124615/1563507037511-b63aff2a-4a2b-49b6-8bef-8f4ac02d00ec.png?x-oss-process=image/resize,w_1500","data-raw-src":"https://cdn.nlark.com/yuque/0/2019/png/124615/1563507037511-b63aff2a-4a2b-49b6-8bef-8f4ac02d00ec.png",alt:"image.png",title:"image.png"}})])]),e("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"qGhLI"}},[e("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[e("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[e("div",{staticClass:"language-undefined extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('{\nstatus: 1,\ninfo: "返回成功",\ndata: {\ncoordinate: "36.631262731204,114.54562822824",\nline_info: "{"content":{"geo":"4|12751236.7236,4362092.35239;12751404.5359,4362182.83531|1-12751241.5262,4362182.83531,12751404.5359,4362166.6619,12751399.7358,4362092.35239,12751236.7236,4362104.66658,12751241.5262,4362182.83531;","uid":"8a181d8dce36ebc884330470"},"current_city":{"code":1,"geo":"1|11590057.96,4489812.75;11590057.96,4489812.75|11590057.96,4489812.75;","level":0,"name":"\\u4e2d\\u56fd","sup":0,"sup_bus":0,"sup_business_area":0,"sup_lukuang":0,"sup_subway":0,"type":0,"up_province_name":"\\u4e2d\\u56fd"},"err_msg":"","hot_city":["\\u5317\\u4eac\\u5e02|131","\\u4e0a\\u6d77\\u5e02|289","\\u5e7f\\u5dde\\u5e02|257","\\u6df1\\u5733\\u5e02|340","\\u6210\\u90fd\\u5e02|75","\\u5929\\u6d25\\u5e02|332","\\u5357\\u4eac\\u5e02|315","\\u676d\\u5dde\\u5e02|179","\\u6b66\\u6c49\\u5e02|218","\\u91cd\\u5e86\\u5e02|132"],"result":{"data_security_filt_res":0,"error":0,"illegal":0,"qid":"","type":10,"uii_type":"china_main","region":"0","uii_qt":"poi_profile","login_debug":0},"uii_err":0}"\n}\n} \n')])])])])])]),t._v(" "),e("h4",{attrs:{id:"后台接口"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#后台接口"}},[t._v("#")]),t._v(" 后台接口")]),t._v(" "),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"1a079b4218264d601731350004e49c66_p_3"}},[t._v("ak、wk：就是用百度接口，申请的两个key ")]),e("div",{attrs:{"data-card-type":"block","data-lake-card":"lockedtext",id:"Hoe34"}},[e("span",[t._v("此处为语雀加密文本，点击链接查看：")]),e("a",{staticStyle:{"word-wrap":"break-word",color:"#096DD9","touch-action":"manipulation","background-color":"rgba(0,0,0,0)","text-decoration":"none",outline:"none",cursor:"pointer",transition:"color .3s"},attrs:{href:"https://www.yuque.com/kylethanas/share/hg6twf#Hoe34"}},[t._v("https://www.yuque.com/kylethanas/share/hg6twf#Hoe34")])]),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"0c4d068e4aede2bc9d552ce387999b01_p_4"}},[e("br")]),e("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"uWhXc"}},[e("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[e("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[e("div",{staticClass:"language-undefined extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("public function showLocation($address = null) {\n       $url = 'http://api.map.baidu.com/geocoder/v2/?address=' . $address . '&output=json&ak=' . self::ak;\n       $info = self::getCurl($url);\n       $infolist = json_decode($info);\n       if (isset($infolist->result->location) && !empty($infolist->result->location)) {\n           $array = array(\n               'lng' => $infolist->result->location->lng,\n               'lat' => $infolist->result->location->lat,\n           );\n           /*逆地理编码*/\n           $location = $array['lat'] . ',' . $array['lng'];\n       }\n       //$location = $form[x] . ',' . $form[y];\n       $url = 'http://api.map.baidu.com/geocoder/v2/?location=' . $location . '&output=json&pois=1&ak=' . self::ak;\n       $info = self::getCurl($url);\n       $infolist = json_decode($info, true);\n       if (!empty($infolist['result']['poiRegions'])) {\n           $tags = explode(';', $infolist['result']['poiRegions'][0]['tag']);\n           $tag = $tags[0];\n           $house = $infolist['result']['poiRegions'][0]['name'];\n           $city = $infolist['result']['addressComponent']['city'];\n           $line_info = $this->queryHouse($house, $city, $tag);\n           $array_data = array();\n           $array_data['coordinate'] = $location;\n           $array_data['line_info'] = $line_info;\n           if(!empty($line_info)){\n               $this->ajaxReturnBlueMP(1, '返回成功', $array_data);\n           }else{\n               $this->ajaxReturnBlueMP(0, '返回失败', '');\n           }\n       }\n   }\n   private function queryHouse($house = null, $city = null, $tag = null) {\n       $baseURL = 'http://api.map.baidu.com/place/v2/search?output=json&scope=2';\n       $url = $baseURL . \"&q=\" . $house . \"®ion=\" . $city . \"&ak=\" . self::wk;\n       $info = self::getCurl($url);\n       //p($info);\n       $info_list = json_decode($info, true);\n       if (!empty($info_list['results'])) {\n           $uid = $info_list['results'][0]['uid'];\n       }\n       if ($uid) {\n           $queryHouseOutline_baseURL = 'http://map.baidu.com/?reqflag=pcmap&coord_type=3&from=webmap&qt=ext&ext_ver=new&l=18';\n           $queryHouseOutline_url = $queryHouseOutline_baseURL . '&uid=' . $uid;\n           $line_info = self::getCurl($queryHouseOutline_url);\n            return $line_info;\n       }\n   } \n")])])])])])]),e("p",{staticStyle:{"text-align":"left","font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"7467903a77e4c43e92d4f196903d0bbe_p_5"}},[e("br")]),t._v(" "),e("h2",{attrs:{id:"计算数据"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#计算数据"}},[t._v("#")]),t._v(" 计算数据")]),t._v(" "),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"f23fb9c519ff30bfe03d0b2cc2cac85d_p_6"}},[e("br")]),e("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"Vc71K"}},[e("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[e("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[e("div",{staticClass:"language-undefined extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("// 地图的父组件\nthis.subscriptionLocation = this.analysisDataService.showLocationChange.subscribe(\n data => {\n   this.showLocationData = data\n   if (this.showLocationData.status == 1) {\n     let mapdata = JSON.parse(this.showLocationData.data.line_info)\n     this.calcPoint(mapdata)\n   } else {\n     this._toastrService.error(this.showLocationData.info);\n   }\n }\n)\ncalcPoint(data) {\n this.place = data.content.geo;\n this.pointmap = true;\n} \n")])])])])])]),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"e1b0979b54c1fb29acc1d92ad2159922_p_7"}},[e("br")]),t._v(" "),e("h2",{attrs:{id:"展示数据"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#展示数据"}},[t._v("#")]),t._v(" 展示数据")]),t._v(" "),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"92c8228235b93f7cc9ced6ac90fca3a6_p_8"}},[e("br")]),e("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"HYCau"}},[e("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[e("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[e("div",{staticClass:"language-undefined extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('ngAfterViewInit() {\n //@ts-ignore\n this.map = new BMap.Map(this.mapId, {\n   enableMapClick: false\n });\n this.map.centerAndZoom("北京市", 13);\n this.map.disableDragging();\n this.map.disableScrollWheelZoom();\n this.map.disableDoubleClickZoom();\n let mapStyle = { style: "dark" }\n this.map.setMapStyle(mapStyle);\n var geoPoint = this.mapService.parseGeo(this.place);\n //@ts-ignore\n var points = this.mapService.coordinateToPoints(this.map, geoPoint.points);\n console.log(\'points: \', points);\n //@ts-ignore\n var ply = new BMap.Polygon(points, {\n   strokeWeight: 2,\n   strokeColor: "#f35857",\n   strokeOpacity: 0.8,\n   fillColor: "transparent"\n }); //建立多边形覆盖物\n this.map.addOverlay(ply);\n setTimeout(() => {\n   this.map.setViewport(ply.getPath()); //调整视野\n   let e = this.map.getBounds(),\n       t = e.getSouthWest(),\n       a = e.getNorthEast();\n   let range = {\n     min_lng: t.lng,\n     max_lng: a.lng,\n     min_lat: t.lat,\n     max_lat: a.lat\n   }\n   console.log(range)\n }, 1000)\n} \n')])])])])])]),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"eadc4ec477465f1f239730d987d394b1_p_9"}},[e("br")]),e("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"glXXG"}},[e("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[e("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[e("div",{staticClass:"language-undefined extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('/**\n  * 墨卡托坐标解析\n  * @param {} mocator\n  * @return {}\n  */\nparseGeo(mocator) {\n if (typeof mocator != \'string\') {\n   return {};\n }\n let t = mocator.split("|");\n let n = parseInt(t[0]);\n let i = t[1];\n let r = t[2];\n let o = r.split(";");\n if (n === 4) {\n   for (var a = [], s = 0; s < o.length - 1; s++) {\n     "1" === o[s].split("-")[0] && a.push(o[s].split("-")[1]);\n   }\n   o = a;\n   o.push("");\n }\n let u: any = [];\n switch (n) {\n   case 1:\n     u.push(o[0]);\n     break;\n   case 2:\n   case 3:\n   case 4:\n     for (var s = 0; s < o.length - 1; s++) {\n       var l = o[s];\n       if (l.length > 100) {\n         l = l.replace(/(-?[1-9]\\d*\\.\\d*|-?0\\.\\d*[1-9]\\d*|-?0?\\.0+|0|-?[1-9]\\d*),(-?[1-9]\\d*\\.\\d*|-?0\\.\\d*[1-9]\\d*|-?0?\\.0+|0|-?[1-9]\\d*)(,)/g,\n                       "$1,$2;");\n         u.push(l);\n       } else {\n         for (var c = [], d = l.split(","), f = 0; f < d.length; f += 2) {\n           var p = d[f];\n           var h = d[f + 1];\n           c.push(p + "," + h);\n         }\n         u.push(c.join(";"))\n       }\n     }\n     break;\n   default:\n     break;\n }\n if (u.length <= 1) {\n   u = u.toString();\n }\n var result = {\n   type: n,\n   bound: i,\n   points: u\n };\n return result;\n};\n/**\n * 墨卡托坐标转百度坐标\n * @param {} coordinate\n * @return {}\n */\ncoordinateToPoints(map, coordinate) {\n var points = [];\n if (coordinate) {\n   var arr = coordinate.split(";");\n   if (arr) {\n     for (var i = 0; i < arr.length; i++) {\n       var coord = arr[i].split(",");\n       if (coord && coord.length == 2) {\n         //@ts-ignore\n         var mctXY = new BMap.Pixel(coord[0], coord[1]);\n         var project = map.getMapType().getProjection();\n         var point = project.pointToLngLat(mctXY);\n         //@ts-ignore\n         points.push(new BMap.Point(point.lng, point.lat));\n       }\n     }\n   }\n }\n return points;\n}; \n')])])])])])]),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"042da541aac17f869693ba89ebd10d8e_p_10"}},[e("br")]),t._v(" "),e("h2",{attrs:{id:"完整jq代码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#完整jq代码"}},[t._v("#")]),t._v(" 完整jq代码")]),t._v(" "),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"828bea0262f636b25c97fbef525aed20_p_11"}},[e("br")]),e("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"ve3UD"}},[e("div",{staticClass:"lake-codeblock-content",staticStyle:{border:"1px solid rgb(232, 232, 232)","max-width":"750px",color:"rgb(89, 89, 89)",margin:"0px",padding:"0px",background:"rgb(249, 249, 249)"}},[e("div",{staticStyle:{color:"rgb(89, 89, 89)",margin:"0px",padding:"16px",background:"none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0)"}},[e("div",{staticClass:"language-undefined extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('\n\n\n\n   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">\n   <meta name="viewport" content="initial-scale=1.0, user-scalable=no">\n   <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=ZX6UGVRcLVCVH30bgEx9bv5FOlr2rI5I">\n   <\/script>\n   <script src="../js/jquery-3.2.0.min.js"><\/script>\n   <title>地图画圈</title>\n   <style type="text/css">\n       body {\n           height: 100%;\n           margin: 0px;\n           padding: 0px;\n           font-family: "微软雅黑";\n       }\n\n       #container {\n           height: 500px;\n           width: 100%;\n       }\n   </style>\n\n\n\n   <div id="container"></div>\n   <div>\n       <input id="area" type="text">\n       <button id="getArea">获取</button>\n   </div>\n\n\n\n<script type="text/javascript">\n   //判断浏览区是否支持canvas\n   if (!isSupportCanvas()) {\n       alert(\'热力图目前只支持有canvas支持的浏览器,您所使用的浏览器不能使用热力图功能~\')\n   }\n\n   function isSupportCanvas() {\n       var elem = document.createElement(\'canvas\');\n       return !!(elem.getContext && elem.getContext(\'2d\'));\n   }\n\n   function setArea(str) {\n       var geoPoint = parseGeo(str);\n       var points = coordinateToPoints(map, parseGeo(str).points);\n       var ply = new BMap.Polygon(points, {\n           strokeWeight: 2,\n           strokeColor: "#f35857",\n           strokeOpacity: 0.8,\n           fillColor: "transparent"\n       });\n       map.clearOverlays(); //清除地图上所有覆盖物\n       map.addOverlay(ply); //建立多边形覆盖物\n       map.setViewport(ply.getPath());\n   }\n\n   function getGeo(str) {\n       $.ajax({\n           type: \'POST\',\n           url: "http://www.mapocc.com/Api/showLocation",\n           data: {\n               address: str\n           },\n           success: function (data) {\n               data = JSON.parse(data);\n               let line_info = data.data.line_info;\n               line_info = JSON.parse(line_info);\n               let geo = line_info.content.geo;\n               console.log(\'geo: \', geo);\n               setArea(geo);\n           },\n           error: function (data) {}\n       });\n   }\n\n   function parseGeo(mocator) {\n       if (typeof mocator != \'string\') {\n           return {};\n       }\n       let t = mocator.split("|");\n       let n = parseInt(t[0]);\n       let i = t[1];\n       let r = t[2];\n       // let o = mocator.split(";");\n       let o = r.split(";");\n       if (n === 4) {\n           for (var a = [], s = 0; s < o.length - 1; s++) {\n               "1" === o[s].split("-")[0] && a.push(o[s].split("-")[1]);\n           }\n           o = a;\n           o.push("");\n       }\n       let u = [];\n       switch (n) {\n           case 1:\n               u.push(o[0]);\n               break;\n           case 2:\n           case 3:\n           case 4:\n               for (var s = 0; s < o.length - 1; s++) {\n                   var l = o[s];\n                   if (l.length > 100) {\n                       l = l.replace(\n                           /(-?[1-9]\\d*\\.\\d*|-?0\\.\\d*[1-9]\\d*|-?0?\\.0+|0|-?[1-9]\\d*),(-?[1-9]\\d*\\.\\d*|-?0\\.\\d*[1-9]\\d*|-?0?\\.0+|0|-?[1-9]\\d*)(,)/g,\n                           "$1,$2;");\n                       u.push(l);\n                   } else {\n                       for (var c = [], d = l.split(","), f = 0; f < d.length; f += 2) {\n                           var p = d[f];\n                           var h = d[f + 1];\n                           c.push(p + "," + h);\n                       }\n                       u.push(c.join(";"))\n                   }\n               }\n               break;\n           default:\n               break;\n       }\n\n       if (u.length <= 1) {\n           u = u.toString();\n       }\n\n       var result = {\n           type: n,\n           bound: i,\n           points: u\n       };\n       return result;\n   };\n\n   function coordinateToPoints(map, coordinate) {\n       var points = [];\n       if (coordinate) {\n           var arr = coordinate.split(";");\n           if (arr) {\n               for (var i = 0; i < arr.length; i++) {\n                   var coord = arr[i].split(",");\n                   if (coord && coord.length == 2) {\n                       //@ts-ignore\n                       var mctXY = new BMap.Pixel(coord[0], coord[1]);\n                       var project = map.getMapType().getProjection();\n                       var point = project.pointToLngLat(mctXY);\n                       //@ts-ignore\n                       points.push(new BMap.Point(point.lng, point.lat));\n                   }\n               }\n           }\n       }\n       return points;\n   };\n\n   var points = [];\n   var map = new BMap.Map("container"); // 创建地图实例\n   var point = new BMap.Point(116.418261, 39.921984);\n   map.centerAndZoom(point, 15); // 初始化地图，设置中心点坐标和地图级别\n   map.enableScrollWheelZoom(); // 允许滚轮缩放\n   map.disableDoubleClickZoom();\n   // 故宫\n   var str =\n       "4|12957492.5276,4826153.61023;12958721.1443,4828041.10283|1-12957492.5276,4827968.34123,12957517.7271,4827978.71655,12957551.7012,4827985.70079,12957761.8414,4828001.08931,12958090.3003,4828010.18168,12958291.9749,4828022.30354,12958654.0221,4828041.10283,12958662.1553,4828035.30001,12958665.3908,4828016.49746,12958721.1443,4826620.84215,12958718.3665,4826607.98754,12958705.7846,4826595.30705,12958274.1406,4826576.04036,12958295.0962,4826161.28862,12958226.0039,4826158.83847,12958128.341,4826156.38524,12958047.0511,4826153.61023,12958044.7491,4826273.98684,12958026.0001,4826566.42516,12957796.4832,4826554.24398,12957566.8973,4826534.12694,12957551.4596,4826539.32662,12957547.5637,4826555.47632,12957492.5276,4827968.34123;"\n   setArea(str);\n\n   $(document).on(\'click\', \'#getArea\', function () {\n       getGeo($(\'#area\').val())\n   })\n<\/script> \n')])])])])])]),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"09a2b5671cf447a1a3529d71c89cf9e1_p_12"}},[e("br")]),t._v(" "),e("h2",{attrs:{id:"结果"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#结果"}},[t._v("#")]),t._v(" 结果")]),t._v(" "),e("p",{staticStyle:{"text-align":"center","font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"2845b5316b00b43029a07a2ab35a1d57_p_13"}},[e("span",{attrs:{"data-card-type":"inline","data-lake-card":"image"}},[e("img",{staticClass:"image lake-drag-image",staticStyle:{visibility:"visible",border:"none","box-shadow":"none",width:"537.6px",height:"358px"},attrs:{"data-role":"image",src:"https://cdn.nlark.com/yuque/0/2019/png/124615/1563510307481-5dd1b5dc-cedd-4580-9283-bd8408f0df1c.png","data-raw-src":"https://cdn.nlark.com/yuque/0/2019/png/124615/1563510307481-5dd1b5dc-cedd-4580-9283-bd8408f0df1c.png",alt:"image.png",title:"image.png"}})])]),e("p",{staticStyle:{"text-align":"center","font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"c4c055efd0ff914556fc2e23b7d107d7_p_14"}},[e("span",{attrs:{"data-card-type":"inline","data-lake-card":"image"}},[e("img",{staticClass:"image lake-drag-image",staticStyle:{visibility:"visible",border:"none","box-shadow":"none",width:"746px",height:"502px"},attrs:{"data-role":"image",src:"https://cdn.nlark.com/yuque/0/2019/png/124615/1563510329202-a5f29b72-53f7-4f14-b8c1-32e62df9c9c0.png","data-raw-src":"https://cdn.nlark.com/yuque/0/2019/png/124615/1563510329202-a5f29b72-53f7-4f14-b8c1-32e62df9c9c0.png",alt:"image.png",title:"image.png"}})])]),e("p",{staticStyle:{"text-align":"left","font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"9eb35e2a7b90831b45095299f807d7c1_p_15"}},[t._v('{"status":1,"info":"\\u8fd4\\u56de\\u6210\\u529f","data":{"coordinate":"39.987270075837,116.3448945207","line_info":"{\\"content\\":{\\"geo\\":\\"4|12951419.39,4836310.46;12951655.84,4836518.99|1-12951419.39,4836494.53,12951429.18,4836445.59,12951420.84,4836434.48,12951424.85,4836368.49,12951496.87,4836377.46,12951505.89,4836310.46,12951573.91,4836316.54,12951655.84,4836334.05,12951641.74,4836441.63,12951637.57,4836487.61,12951607.41,4836483.97,12951603.85,4836510.02,12951598.4,4836518.99,12951583.92,4836517.98,12951429.86,4836502.49,12951419.39,4836494.53;\\",\\"uid\\":\\"81cec255a85267f907fef5b9\\"},\\"current_city\\":{\\"code\\":1,\\"geo\\":\\"1|11590057.96,4489812.75;11590057.96,4489812.75|11590057.96,4489812.75;\\",\\"level\\":0,\\"name\\":\\"\\\\u4e2d\\\\u56fd\\",\\"sup\\":0,\\"sup_bus\\":0,\\"sup_business_area\\":0,\\"sup_lukuang\\":0,\\"sup_subway\\":0,\\"type\\":0,\\"up_province_name\\":\\"\\\\u4e2d\\\\u56fd\\"},\\"err_msg\\":\\"\\",\\"hot_city\\":[\\"\\\\u5317\\\\u4eac\\\\u5e02|131\\",\\"\\\\u4e0a\\\\u6d77\\\\u5e02|289\\",\\"\\\\u5e7f\\\\u5dde\\\\u5e02|257\\",\\"\\\\u6df1\\\\u5733\\\\u5e02|340\\",\\"\\\\u6210\\\\u90fd\\\\u5e02|75\\",\\"\\\\u5929\\\\u6d25\\\\u5e02|332\\",\\"\\\\u5357\\\\u4eac\\\\u5e02|315\\",\\"\\\\u676d\\\\u5dde\\\\u5e02|179\\",\\"\\\\u6b66\\\\u6c49\\\\u5e02|218\\",\\"\\\\u91cd\\\\u5e86\\\\u5e02|132\\"],\\"result\\":{\\"data_security_filt_res\\":0,\\"error\\":0,\\"illegal\\":0,\\"qid\\":\\"\\",\\"type\\":10,\\"uii_type\\":\\"china_main\\",\\"region\\":\\"0\\",\\"uii_qt\\":\\"poi_profile\\",\\"login_debug\\":0},\\"uii_err\\":0}"}}')])])])}),[],!1,null,null,null);a.default=r.exports}}]);