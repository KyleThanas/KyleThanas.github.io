(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{219:function(t,s,a){"use strict";a.r(s);var n=a(2),p=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"æ­å»ºåŸºäº-model-çš„å¡ç‰‡åˆ—è¡¨é¡µé¢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ­å»ºåŸºäº-model-çš„å¡ç‰‡åˆ—è¡¨é¡µé¢","aria-hidden":"true"}},[t._v("#")]),t._v(" æ­å»ºåŸºäº model çš„å¡ç‰‡åˆ—è¡¨é¡µé¢")]),t._v(" "),a("p",[t._v("æœ¬ç« èŠ‚ä¸­æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ï¼šåˆ›å»ºä¸€ä¸ªå¡ç‰‡åˆ—è¡¨é¡µï¼ŒåŒæ—¶åŒ…å«ä¸€ä¸ªæŒ‰é’®å¯ä»¥æ·»åŠ æ–°å¡ç‰‡ã€‚å®Œæ•´çš„ demo ä»£ç è¯·è®¿é—® "),a("a",{attrs:{href:"https://github.com/ant-design/react-tutorial",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/ant-design/react-tutorial"),a("OutboundLink")],1),t._v(" ã€‚")]),t._v(" "),a("h2",{attrs:{id:"æœ€ç®€å•çš„å¡ç‰‡åˆ—è¡¨é¡µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœ€ç®€å•çš„å¡ç‰‡åˆ—è¡¨é¡µ","aria-hidden":"true"}},[t._v("#")]),t._v(" æœ€ç®€å•çš„å¡ç‰‡åˆ—è¡¨é¡µ")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å…ˆ\bæ˜¾ç¤ºä¸€ä¸ªæœ€ç®€å•çš„å¡ç‰‡åˆ—è¡¨é¡µï¼Œåªæœ‰å¡ç‰‡ï¼Œä¸åšæ·»åŠ æ“ä½œã€‚"),a("code",[t._v("src/page")]),t._v(" ç›®å½•ä¸‹å»ºç«‹é¡µé¢æ–‡ä»¶ "),a("code",[t._v("puzzlecards.js")]),t._v("ï¼Œå¹¶æŠŠå®ƒåŠ å…¥åˆ°è·¯ç”±ã€‚")]),t._v(" "),a("p",[t._v("é¦–å…ˆï¼Œå»ºç«‹é¡µé¢æ–‡ä»¶ã€‚")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Component "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Card "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'antd'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PuzzleCardsPage")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Component")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      cardList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          setup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Did you hear about the two silk worms in a race?'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          punchline"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'It ended in a tie'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          setup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'What happens to a frog\\'s car when it breaks down?'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          punchline"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'It gets toad away'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n        ")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cardList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("card "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n              "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("Card")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token script language-javascript"}},[a("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("card"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("Q: ")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("card"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("setup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                  ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("strong")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("A: ")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("card"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("punchline"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("strong")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n              ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("Card")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("å…¶æ¬¡ï¼Œé…ç½®æ–‡ä»¶\b "),a("code",[t._v("config/config.js")]),t._v(" å†…å¢åŠ ä¸€æ¡è·¯ç”±è§„åˆ™ã€‚")]),t._v(" "),a("div",{staticClass:"language-diff extra-class"},[a("pre",{pre:!0,attrs:{class:"language-diff"}},[a("code",[t._v("export default {\n\n\n  routes: [\n    {\n      path: '/',\n      component: '../layout',\n      routes: [\n\n"),a("span",{pre:!0,attrs:{class:"token inserted"}},[t._v("+       { path: 'puzzlecards', component: './puzzlecards' },")]),t._v("\n\n      ]\n    }\n  ],\n\n\n};\n")])])]),a("p",[t._v("å¯åŠ¨åº”ç”¨ï¼Œçœ‹åˆ°å¦‚ä¸‹é¡µé¢ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.nlark.com/lark/0/2018/png/58329/1533188095619-1cc50bcd-f19f-4464-b068-2d5d970b8164.png",alt:"image.png | left | 747x351"}})]),t._v(" "),a("h2",{attrs:{id:"æ·»åŠ å¡ç‰‡-æŒ‰é’®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ·»åŠ å¡ç‰‡-æŒ‰é’®","aria-hidden":"true"}},[t._v("#")]),t._v(' "æ·»åŠ å¡ç‰‡" æŒ‰é’®')]),t._v(" "),a("p",[t._v("åœ¨ä¸Šæ–‡çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬æ·»åŠ ä¸€ä¸ªæŒ‰é’®ï¼Œå¹¶åœ¨ä¸Šé¢ç»‘å®šä¸€ä¸ªå¤„ç†\bç‚¹å‡»äº‹ä»¶çš„å›è°ƒå‡½æ•°ã€‚æ€è·¯æ˜¯åœ¨å›è°ƒå‡½æ•°ä¸­\bå‘ cardList ä¸­æ·»åŠ ä¸€ä¸ªæ–°å¡ç‰‡æ•°æ®ã€‚\b")]),t._v(" "),a("p",[t._v("\bæœ€ç»ˆæˆ‘ä»¬çš„é¡µé¢æ–‡ä»¶å˜æˆå¦‚ä¸‹æ ·å­ï¼š")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Component "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Card"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Button "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'antd'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PuzzleCardsPage")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Component")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("counter "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      cardList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          setup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Did you hear about the two silk worms in a race?'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          punchline"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'It ended in a tie'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          setup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'What happens to a frog\\'s car when it breaks down?'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          punchline"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'It gets toad away'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("addNewCard")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("prevState "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" prevCardList "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" prevState"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cardList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("counter "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" card "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("counter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        setup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Lorem ipsum dolor sit amet, consectetur adipiscing elit,'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        punchline"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        cardList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" prevCardList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("concat")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("card"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n        ")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cardList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("card "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n              "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("Card")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token script language-javascript"}},[a("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("card"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("Q: ")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("card"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("setup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                  ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("strong")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("A: ")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("card"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("punchline"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("strong")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n              ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("Card")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n        ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n          ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("Button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onClick")]),a("span",{pre:!0,attrs:{class:"token script language-javascript"}},[a("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("addNewCard"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v(" æ·»åŠ å¡ç‰‡ ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("Button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n        ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("è™½ç„¶æ¯æ¬¡æ·»åŠ çš„å¡ç‰‡\bå†…å®¹éƒ½ç›¸åŒï¼Œä½†æ˜¯ä¸è¦ç´§ï¼Œè¿™é‡Œåªæ˜¯æ¼”ç¤ºç”¨æ³•ï¼Œä½†æ˜¯\bæ³¨æ„å”¯ç‹¬ id ä¸èƒ½ç›¸åŒã€‚ä¸ºäº†äº§ç”Ÿå”¯ä¸€çš„ idï¼Œæˆ‘ä»¬åœ¨ç»„ä»¶ä¸­\bæ–°åŠ äº†ä¸€ä¸ª counter æˆå‘˜ï¼Œ\bå®ƒåªæ˜¯ä¸ºäº†äº§ç”Ÿå”¯ä¸€ idï¼Œ\bå¹¶ä¸æ˜¯çœŸçš„ä¸ºäº†è®¡æ•°ï¼Œæ‰€ä»¥åˆå§‹å€¼ä¸é‡è¦ï¼ˆæˆ‘ä»¬è¿™é‡Œç»™äº† 100ï¼‰ã€‚")]),t._v(" "),a("p",[t._v("æ–°çš„é¡µé¢å¦‚ä¸‹ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.nlark.com/lark/0/2018/png/58329/1533190234525-789d67b9-296f-4682-bfa1-4be9e1058a49.png",alt:"image.png | left | 747x604"}})]),t._v(" "),a("p",[a("strong",[t._v("åˆ°è¿™é‡Œæˆ‘ä»¬å…¶å®å·²ç»å®Œæˆäº†æƒ³è¦çš„é¡µé¢ï¼Œä¹Ÿå¹¶æ²¡æœ‰ç”¨ dvaï¼Œé‚£ dva åˆ°åº•æœ‰ä»€ä¹ˆç”¨ ï¼Ÿ\b")])]),t._v(" "),a("p",[t._v("è¿™é‡Œ\bé™ˆè¿°å‡ ä¸ªéœ€æ±‚ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("åœ¨å®é™…çš„å‰ç«¯å¼€å‘ä¸­ï¼Œåƒ cardList ä¸­åŒ…å«çš„é‚£äº›æ•°æ®ï¼Œä¸€èˆ¬éƒ½æ˜¯é€šè¿‡å‘èµ·å¼‚æ­¥ http è¯·æ±‚ä»åç«¯æœåŠ¡ä¸­è·å¾—ã€‚")]),t._v(" "),a("li",[t._v("æˆ‘ä»¬å¸Œæœ›æŠŠæ•°æ®é€»è¾‘ï¼ˆcardList ç›¸å…³é€»è¾‘ï¼‰å’Œè§†å›¾é€»è¾‘ï¼ˆ\bPuzzleCardsPageï¼‰åˆ†å¼€ç®¡ç†åœ¨ä¸åŒçš„\bæ¨¡å—ä¸­ï¼Œã€Œå…³æ³¨åˆ†ç¦»ã€ä½¿å¾—ä»£ç æ›´åŠ å¥å£®ï¼ŒåŒæ—¶æ˜“äºè°ƒè¯•ã€‚")]),t._v(" "),a("li",[t._v("æˆ‘ä»¬å¸Œæœ›è¿™äº›æ•°æ®åœ¨éœ€è¦çš„æ—¶å€™ï¼Œå¯ä»¥æä¾›ç»™\bä¸åŒçš„ç»„ä»¶ä½¿ç”¨ï¼šä¹Ÿå³æ•°æ®å…±äº«ã€‚")])]),t._v(" "),a("p",[t._v("è€Œ dva \bå°±æ˜¯ç”¨æ¥æ»¡è¶³è¿™äº›éœ€æ±‚çš„ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("é€šè¿‡æŠŠçŠ¶æ€ä¸Šæåˆ° dva model ä¸­ï¼Œæˆ‘ä»¬æŠŠæ•°æ®é€»è¾‘ä»é¡µé¢ä¸­æŠ½ç¦»å‡ºæ¥ã€‚")]),t._v(" "),a("li",[t._v("é€šè¿‡ effect ä¼˜é›…åœ°å¤„ç†æ•°æ®ç”Ÿæˆ\bè¿‡ç¨‹ä¸­çš„å‰¯ä½œç”¨ï¼Œå‰¯ä½œç”¨ä¸­æœ€å¸¸è§çš„å°±æ˜¯å¼‚æ­¥é€»è¾‘ã€‚")]),t._v(" "),a("li",[t._v("dva model ä¸­çš„æ•°æ®å¯ä»¥æ³¨å…¥ç»™ä»»æ„ç»„ä»¶ã€‚")]),t._v(" "),a("li",[t._v("å¦å¤–ï¼Œdva å…è®¸æŠŠæ•°æ®é€»è¾‘å†\bæ‹†åˆ†ï¼ˆã€Œé¡µé¢ã€å¸¸å¸¸å°±æ˜¯åˆ†éš”çš„æ ‡å¿—ï¼‰ï¼Œä»¥ namespace åŒºåˆ†ã€‚å½“ä½ è§‰å¾—æœ‰å¿…è¦æ—¶ï¼Œä¸åŒçš„ namespace ä¹‹é—´çš„ state æ˜¯å¯ä»¥\bäº’ç›¸è®¿é—®çš„ã€‚")])]),t._v(" "),a("blockquote",[a("p",[t._v("å¦‚æœä½ ç†Ÿæ‚‰ React ä¸­æœ€åŸºæœ¬çš„ä¸¤ä¸ªæ¦‚å¿µ \bprops å’Œ stateï¼Œä¸€å®šçŸ¥é“ \b\bprops å’Œ state å¯¹äºä¸€ä¸ªç»„ä»¶æ¥è®²éƒ½æ˜¯æ•°æ®çš„æ¥æº\bï¼Œè€Œ state åˆå¯ä»¥é€šè¿‡ props ä¼ é€’ç»™å­ç»„ä»¶ï¼Œè¿™åƒæ˜¯ä¸€ä¸ªé¸¡ç”Ÿè›‹è›‹ç”Ÿé¸¡çš„é—®é¢˜ï¼šåˆ°åº•è°æ˜¯æ•°æ®çš„æºå¤´ ï¼Ÿç­”æ¡ˆ\bæ˜¯ stateï¼Œè€Œä¸”æ˜¯å¹¿ä¹‰çš„ stateï¼šå®ƒå¯ä»¥æ˜¯ react ç»„ä»¶æ ‘ä¸­å„çº§ç»„ä»¶çš„ stateï¼Œ\b\bä¹Ÿå¯ä»¥æ˜¯ react \bç»„ä»¶\bæ ‘å¤–éƒ¨ç”±å…¶ä»– js æ•°æ®ç»“æ„è¡¨ç¤ºçš„ stateï¼Œè€Œ dva ç®¡ç†çš„å°±æ˜¯"),a("a",{attrs:{href:"https://redux.js.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v(" react ç»„ä»¶æ ‘ä¹‹å¤–çš„ state: Redux"),a("OutboundLink")],1),t._v("ã€‚å½’æ ¹ç»“åº•ï¼Œprops æ˜¯\bç”¨æ¥ä¼ å¯¼æ•°æ®çš„ï¼Œè€Œ state æ˜¯æ•°æ®æ”¹å˜çš„æºæ³‰ã€‚")])]),t._v(" "),a("h2",{attrs:{id:"åŸºäº-dva-çš„ç®€å•å¡ç‰‡åˆ—è¡¨é¡µï¼šä½¿ç”¨-connect-å¯¹æ¥é™æ€çš„-dva-model"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŸºäº-dva-çš„ç®€å•å¡ç‰‡åˆ—è¡¨é¡µï¼šä½¿ç”¨-connect-å¯¹æ¥é™æ€çš„-dva-model","aria-hidden":"true"}},[t._v("#")]),t._v(" åŸºäº dva çš„ç®€å•å¡ç‰‡åˆ—è¡¨é¡µï¼šä½¿ç”¨ connect å¯¹æ¥é™æ€çš„ dva model")]),t._v(" "),a("p",[t._v("å¦‚æœä½ å·²ç»å¯¹ React å¼€å‘æ¯”è¾ƒç†Ÿæ‚‰ï¼Œå°±ä¼šçŸ¥é“å­ç»„ä»¶çš„ state å¯ä»¥ä¸Šæ (state hoisting)ï¼Œç”±çˆ¶ç»„ä»¶æ¥ç®¡ç†ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("å­ç»„ä»¶é—´æ¥å›è°ƒåˆ°çˆ¶ç»„ä»¶çš„ setState çš„æ–¹æ³•æ¥æ”¹å˜çˆ¶ç»„ä»¶çš„ stateï¼›")]),t._v(" "),a("li",[t._v("æ–°çš„ state é€šè¿‡ props çš„å½¢å¼æŠŠ\bå†æ¬¡è¢«å­ç»„ä»¶è·æ‚‰ã€‚")])]),t._v(" "),a("p",[t._v("è€Œ dva \bå¯ä»¥å¸®åŠ©æˆ‘ä»¬æŠŠ state \bä¸Šæåˆ° "),a("strong",[t._v("æ‰€æœ‰ React ç»„ä»¶ä¹‹ä¸Š")]),t._v("ï¼Œè¿‡ç¨‹æ˜¯ç›¸ä¼¼çš„ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("é¡µé¢é€šè¿‡\bè°ƒç”¨ dispatch å‡½æ•°æ¥é©±åŠ¨ dva model state çš„æ”¹å˜ï¼›")]),t._v(" "),a("li",[t._v("æ”¹å˜åçš„ dva model stateé€šè¿‡ connect æ–¹æ³•æ³¨å…¥é¡µé¢ã€‚")])]),t._v(" "),a("p",[t._v("æ‰€è°“ã€Œæ³¨å…¥ã€ä»æœ¬è´¨ä¸Šæ˜¯ "),a("strong",[t._v("æ§åˆ¶åè½¬")]),t._v(" çš„ä¸€ç§å®ç°ï¼Œè¿™ç§æ€æƒ³åœ¨è®¸å¤šçš„è¯­è¨€æ¡†æ¶ä¸­éƒ½æœ‰ä½“ç°ï¼Œæœ€è‘—åçš„è«è¿‡äºåŸºäº Java è¯­è¨€çš„ Springã€‚ç»„ä»¶ä¸å†è´Ÿè´£ç®¡ç†æ•°æ®\bï¼Œç»„ä»¶åªæ˜¯é€šè¿‡ connect å‘ dva å£°æ˜æ‰€éœ€æ•°æ®ã€‚")]),t._v(" "),a("p",[t._v("æœ¬èŠ‚ä¸­æˆ‘ä»¬åªåšçŠ¶æ€ä¸Šæï¼Œæˆ‘ä»¬åªéœ€è¦å®šä¹‰ä¸€ä¸ªåŸºæœ¬çš„ dva model å’Œä½¿ç”¨ connectã€‚é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨ "),a("code",[t._v("src/model")]),t._v(" ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª dva model æ–‡ä»¶ï¼š"),a("code",[t._v("puzzlecards.js")]),t._v("ã€‚")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  namespace"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'puzzlecards'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      setup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Did you hear about the two silk worms in a race?'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      punchline"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'It ended in a tie'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      setup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'What happens to a frog\\'s car when it breaks down?'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      punchline"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'It gets toad away'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("å…¶æ¬¡ï¼Œä¿®æ”¹ä¹‹å‰çš„é¡µé¢æ–‡ä»¶ï¼š")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Component "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Card "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* ,Button */")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'antd'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" connect "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dva'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" namespace "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'puzzlecards'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("mapStateToProps")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cardList "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("namespace"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    cardList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mapStateToProps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PuzzleCardsPage")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Component")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n        ")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cardList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("card "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n              "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("Card")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token script language-javascript"}},[a("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("card"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("Q: ")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("card"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("setup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                  ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("strong")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("A: ")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("card"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("punchline"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("strong")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n              ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("Card")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n        ")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* <div>\n          <Button onClick={this.addNewCard}> æ·»åŠ å¡ç‰‡ </Button>\n        </div> */")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("é¦–å…ˆï¼Œæ³¨æ„ dva model çš„å®šä¹‰ã€‚ä¸€ä¸ªåŸºæœ¬çš„ dva model æœ€å°‘å…·å¤‡ä¸¤ä¸ª\bæˆå‘˜ï¼šnamespace å’Œ stateã€‚namespace æ¥ä½œä¸ºä¸€ä¸ª model çš„å”¯ä¸€æ ‡è¯†ï¼Œstate ä¸­å°±æ˜¯è¯¥ model ç®¡ç†çš„æ•°æ®ã€‚")]),t._v(" "),a("p",[t._v("å…¶æ¬¡ï¼Œçœ‹é¡µé¢æ–‡ä»¶çš„å˜åŒ–ï¼šæˆ‘ä»¬åˆ é™¤äº†ç»„ä»¶æœ¬èº«çš„ stateï¼ŒåŒæ—¶æ·»åŠ äº† "),a("code",[t._v("@connect(mapStateToProps)")]),t._v("ã€‚"),a("strong",[t._v("connect æ˜¯è¿æ¥ dva å’Œ React ä¸¤ä¸ªå¹³è¡Œä¸–ç•Œçš„å…³é”®ï¼Œä¸€å®šè¦ç†è§£ã€‚")])]),t._v(" "),a("ul",[a("li",[t._v("connect è®©ç»„ä»¶è·å–åˆ°ä¸¤æ ·ä¸œè¥¿ï¼š1. model ä¸­çš„æ•°æ®ï¼›2. é©±åŠ¨ model æ”¹å˜çš„æ–¹æ³•ã€‚")]),t._v(" "),a("li",[t._v("connect æœ¬è´¨ä¸Šåªæ˜¯ä¸€ä¸ª javascript å‡½æ•°ï¼Œé€šè¿‡ "),a("code",[t._v("@")]),t._v(" è£…é¥°å™¨è¯­æ³•ä½¿ç”¨ï¼Œæ”¾ç½®åœ¨\bç»„ä»¶å®šä¹‰çš„ä¸Šæ–¹ï¼›")]),t._v(" "),a("li",[t._v("connect æ—¢ç„¶æ˜¯\b\bå‡½æ•°ï¼Œå°±å¯ä»¥æ¥å—å…¥å‚ï¼Œç¬¬ä¸€ä¸ªå…¥å‚æ˜¯æœ€å¸¸ç”¨çš„ï¼Œå®ƒéœ€è¦æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬ä¹ æƒ¯\bç»™å®ƒå‘½åå«åš mapStateToPropsï¼Œé¡¾åæ€ä¹‰å°±æ˜¯æŠŠ dva model ä¸­çš„ state é€šè¿‡ç»„ä»¶çš„ props æ³¨å…¥ç»™\bç»„ä»¶ã€‚é€šè¿‡å®ç°è¿™ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬å°±èƒ½å®ç°æŠŠ dva model çš„ state æ³¨å…¥ç»™ç»„ä»¶ã€‚")])]),t._v(" "),a("p",[t._v('mapStateToProps \bè¿™ä¸ªå‡½æ•°çš„å…¥å‚ state å…¶å®æ˜¯ dva ä¸­æ‰€æœ‰ state çš„æ€»åˆã€‚å¯¹äºåˆå­¦ js çš„äººå¯èƒ½ä¼šå¾ˆç–‘æƒ‘ï¼šè¿™ä¸ªå…¥å‚æ˜¯è°ç»™ä¼ å…¥çš„å‘¢ï¼Ÿå…¶å®ä½ ä¸ç”¨å…³å¿ƒï¼Œä½ åªéœ€çŸ¥é“ dva æ¡†æ¶ä¼šé€‚æ—¶è°ƒç”¨ mapStateToPropsï¼Œå¹¶ä¼ å…¥ dva model state ä½œä¸ºå…¥å‚ï¼Œæˆ‘ä»¬å†æ¬¡æé†’ï¼šä¼ å…¥çš„ state æ˜¯ä¸ª "å®Œå…¨ä½“"ï¼ŒåŒ…å«äº† '),a("strong",[t._v("æ‰€æœ‰")]),t._v(" namespace \bä¸‹çš„ stateï¼æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„ dva model \bstate å°±æ˜¯ä»¥ \bnamespace ä¸º key çš„ state æˆå‘˜ã€‚æ‰€ä»¥ "),a("code",[t._v("const namespace = 'puzzlecards'")]),t._v(" ä¸­çš„ "),a("code",[t._v("puzzlecards")]),t._v(" å¿…é¡»å’Œ model \bä¸­çš„å®šä¹‰å®Œå…¨ä¸€è‡´ã€‚dva æœŸå¾… mapStateToProps å‡½æ•°è¿”å›ä¸€ä¸ª "),a("strong",[t._v("å¯¹è±¡")]),t._v("ï¼Œè¿™ä¸ªå¯¹è±¡\bä¼šè¢« dva å¹¶å…¥åˆ° props ä¸­ï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­æˆ‘ä»¬å–åˆ°æ•°æ®åï¼ŒæŠŠå®ƒæ”¹åä¸º cardList å¹¶è¿”å›ï¼ˆ æ³¨æ„è¿”å›çš„ä¸æ˜¯ cardList æœ¬èº«ï¼Œè€Œæ˜¯ä¸€ä¸ªåŒ…å«äº† cardList çš„å¯¹è±¡ï¼ ï¼‰\bï¼ŒcardList å°±å¯ä»¥åœ¨å­ç»„ä»¶ä¸­\bé€šè¿‡ \bprops è¢«è®¿é—®åˆ°äº†ã€‚")]),t._v(" "),a("p",[t._v("æ³¨æ„ render å‡½æ•°ä¸­é€šè¿‡ "),a("code",[t._v("this.props.cardList")]),t._v(" å–åˆ°\bäº†æ•°æ®ï¼Œæ•°æ®å·²ç»ä¸å†ç”±ç»„ä»¶è‡ªå·±ç®¡ç†ï¼Œæˆ‘ä»¬å¾—åˆ°äº†ç¬¬ä¸€æ­¥ä¸­çš„é¡µé¢æ ·å­ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.nlark.com/lark/0/2018/png/58329/1533202164449-350a18b6-e7b7-435a-9518-11daf8ff1e9c.png",alt:"image.png | left | 747x266"}})]),t._v(" "),a("p",[t._v("è¿™é‡Œæˆ‘ä»¬åŒæ—¶åˆ©ç”¨ Redux DevTools  å±•ç¤ºäº† \bDva ä¸­ state çš„å†…å®¹ï¼Œ\bè¯æ˜äº†æˆ‘ä»¬å®šä¹‰çš„ model ç¡®å®ç”Ÿæ•ˆäº†ã€‚å¦‚æœæƒ³æ—¶åˆ»æ´å¯Ÿ model ä¸­çš„å†…å®¹ï¼Œå¼ºçƒˆå»ºè®®å®‰è£… Redux DevTools")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.nlark.com/lark/0/2018/png/58329/1533202294228-fe24ef41-b8fc-4bf3-9ea8-3179f54ea4e8.png",alt:"image.png | left | 747x323"}})]),t._v(" "),a("h2",{attrs:{id:"æ·»åŠ å¡ç‰‡-æŒ‰é’®ï¼šä½¿ç”¨-dispatch-å’Œ-reducer-æ”¹å˜-dva-model"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ·»åŠ å¡ç‰‡-æŒ‰é’®ï¼šä½¿ç”¨-dispatch-å’Œ-reducer-æ”¹å˜-dva-model","aria-hidden":"true"}},[t._v("#")]),t._v(' "æ·»åŠ å¡ç‰‡" æŒ‰é’®ï¼šä½¿ç”¨ dispatch \bå’Œ reducer \bæ”¹å˜ dva model')]),t._v(" "),a("p",[t._v("æˆ‘ä»¬ä¸Šé¢çš„ä¾‹å­ä¸­åªæ˜¯ç§»æ¤äº† stateï¼Œä½†æ˜¯æ²¡æœ‰ç§»æ¤æŒ‰é’®å’ŒæŒ‰é’®ä¸Šçš„è¡Œä¸ºã€‚React æœ‰ä¸€ä¸ªåŸºæœ¬çš„å“²å­¦ï¼šæ•°æ®æ˜ å°„åˆ°è§†å›¾ã€‚æ— è®ºä»€ä¹ˆé€”å¾„ï¼Œæˆ‘ä»¬ç‚¹å‡»æŒ‰é’®åï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯\bå»è§¦å‘ state çš„æ”¹å˜ï¼Œ\bstate çš„æ”¹å˜å†æ˜ å°„å›è§†å›¾ã€‚æ‰€ä»¥æˆ‘ä»¬è¿™é‡Œçš„ç›®æ ‡å°±æ˜¯ä½¿å¾—æ¯æ¬¡ç‚¹å‡»æŒ‰é’®ï¼Œè§¦å‘ dva model çš„ä¸­å¡ç‰‡æ•°æ®å†æ·»åŠ ä¸€æ¡ã€‚è€Œåœ¨ dva çš„è¯­å¢ƒä¸­ï¼Œæ˜¯ç»Ÿä¸€é€šè¿‡ "),a("code",[t._v("dispatch")]),t._v(" å‡½æ•°æ¥åšè¿™ä»¶äº‹æƒ…ã€‚")]),t._v(" "),a("p",[t._v("ä¿®æ”¹ model æ–‡ä»¶ï¼ŒåŠ å…¥ reducers éƒ¨åˆ†ï¼š")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  namespace"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'puzzlecards'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        setup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Did you hear about the two silk worms in a race?'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        punchline"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'It ended in a tie'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        setup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'What happens to a frog\\'s car when it breaks down?'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        punchline"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'It gets toad away'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    counter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  reducers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addNewCard")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" newCard "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" nextCounter "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("counter "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" newCardWithId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("newCard"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" nextCounter "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" nextData "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("concat")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newCardWithId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" nextData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        counter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" nextCounter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("ä¿®æ”¹é¡µé¢æ–‡ä»¶ï¼Œæ³¨å…¥æ–°çš„æ–¹æ³•ï¼š")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Component "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Card "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Button "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'antd'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" connect "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dva'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" namespace "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'puzzlecards'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("mapStateToProps")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cardList "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("namespace"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    cardList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("mapDispatchToProps")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dispatch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    onClickAdd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newCard"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" action "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        type"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("namespace"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("/addNewCard`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" newCard"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("action"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mapStateToProps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mapDispatchToProps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PuzzleCardsPage")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Component")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n        ")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cardList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("card "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n              "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("Card")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token script language-javascript"}},[a("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("card"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("Q: ")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("card"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("setup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                  ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("strong")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("A: ")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("card"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("punchline"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("strong")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n                ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n              ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("Card")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n        ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n          ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("Button")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onClick")]),a("span",{pre:!0,attrs:{class:"token script language-javascript"}},[a("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onClickAdd")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            setup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Lorem ipsum dolor sit amet, consectetur adipiscing elit'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            punchline"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'here we use dva'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v(" æ·»åŠ å¡ç‰‡ ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("Button")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n        ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("äºæ˜¯å¾—åˆ°æ–°çš„é¡µé¢ï¼Œ")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.nlark.com/lark/0/2018/png/58329/1533218381481-8ff07ef9-4fc7-4a15-a51a-5264e6f83764.png",alt:"withDvaReducer.png | center | 747x525"}})]),t._v(" "),a("p",[t._v("æ¥ä¸‹æ¥æˆ‘ä»¬è§£é‡Šä¸€ä¸‹éƒ½å¹²äº†ä»€ä¹ˆäº‹æƒ…ã€‚")]),t._v(" "),a("h3",{attrs:{id:"ä½¿ç”¨-mapdispatchtoprops-å’Œ-dispatch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨-mapdispatchtoprops-å’Œ-dispatch","aria-hidden":"true"}},[t._v("#")]),t._v(" ä½¿ç”¨ mapDispatchToProps å’Œ dispatch")]),t._v(" "),a("p",[t._v("é€šè¿‡\bä½¿ç”¨è¿™ä¸¤è€…ï¼Œæˆ‘ä»¬å¯ä»¥ç»™ç»„ä»¶æ³¨å…¥æ–¹æ³•ï¼Œç»„ä»¶ä½¿ç”¨è¿™äº›æ–¹æ³•èƒ½ç»™ dva model å‘ã€Œæ¶ˆæ¯ã€ã€‚"),a("code",[t._v("this.props.onClickAdd")]),t._v(" å°±æ˜¯è¢«æ³¨å…¥çš„\bæ–¹æ³•ã€‚")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onClickAdd")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  setup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Lorem ipsum dolor sit amet, consectetur adipiscing elit'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  punchline"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'here we use dva'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("æ³¨æ„ä¸è¦å†™æˆ")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onClickAdd")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  setup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Lorem ipsum dolor sit amet, consectetur adipiscing elit'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  punchline"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'here we use dva'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[a("strong",[t._v("åŒºåˆ«æ˜¯ä¸Šé¢å®šä¹‰äº†ä¸€ä¸ª click \bäº‹ä»¶çš„å›è°ƒå‡½æ•°ï¼Œè€Œä¸‹é¢æ˜¯ç›´æ¥è°ƒç”¨å‡½æ•°")]),t._v("ã€‚å›è°ƒå‡½æ•°åœ¨ç‚¹å‡»æ—¶è¢«è°ƒç”¨ï¼Œåˆç«‹åˆ»è°ƒç”¨ onClickAddã€‚å¦‚æœç›´æ¥å†™æˆ "),a("code",[t._v("this.props.onClickAdd({})")]),t._v("ï¼Œå°±å˜æˆ render å‡½æ•°æ‰§è¡Œåˆ°æ­¤å¤„æ—¶ç›´æ¥è°ƒç”¨ onClickAdd å‡½æ•°äº†ã€‚")]),t._v(" "),a("p",[t._v("onClickAdd æ˜¯æ€ä¹ˆè¢«æ³¨å…¥çš„å‘¢ ï¼Ÿç­”æ¡ˆå°±åœ¨äºæˆ‘ä»¬ç»™ connect ä¼ å…¥äº†ç¬¬äºŒä¸ªå‡½æ•°ï¼šmapDispatchToPropsã€‚æˆ‘ä»¬ä¹ æƒ¯ç”¨è¿™ä¸ªåå­—æ˜¯å› ä¸ºå®ƒç²¾ç‚¼åœ°è¯´æ˜äº†è¿™ä¸ªå‡½æ•°çš„ä½œç”¨ï¼šä»¥ dispatch ä¸ºå…¥å‚ï¼Œè¿”å›ä¸€ä¸ªæŒ‚ç€å‡½æ•°çš„å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ä¸Šçš„å‡½æ•°ä¼šè¢« dva å¹¶å…¥ propsï¼Œæ³¨å…¥ç»™ç»„ä»¶ä½¿ç”¨ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬åœ¨ onClickAdd å‡½æ•°ä¸­è°ƒç”¨ dispatch æ´¾å‘äº†ä¸€ä¸ª actionï¼Œaction åŒ…å« onClickAdd ä¼ é€’è¿‡æ¥çš„å†…å®¹ "),a("code",[t._v("{ setup, punchline }")]),t._v(" ä½œä¸º payloadï¼Œaction çš„\b type æ˜¯ "),a("code",[t._v("puzzlecards/addNewCard")]),t._v("ã€‚"),a("code",[t._v("addNewCard")]),t._v(" åœ¨è¿™ä¸ªä¾‹å­ä¸­æ˜¯ reducer çš„åå­—ï¼Œè¿™ä¸ªæˆ‘ä»¬ä¸‹é¢ä¼šè®²åˆ°ã€‚"),a("strong",[t._v("\bdispatch å‡½æ•°å°±æ˜¯å’Œ dva model æ‰“äº¤é“çš„å”¯ä¸€é€”å¾„ã€‚")]),t._v(" dispatch å‡½æ•°æ¥å—ä¸€ä¸ª "),a("strong",[t._v("å¯¹è±¡")]),t._v(" ä½œä¸ºå…¥å‚ï¼Œåœ¨æ¦‚å¿µä¸Šæˆ‘ä»¬ç§°å®ƒä¸º "),a("em",[t._v("action")]),t._v("ï¼Œå”¯ä¸€å¼ºåˆ¶è¦åŒ…å«çš„æ˜¯ "),a("code",[t._v("type")]),t._v(" å­—æ®µï¼Œstring ç±»å‹ï¼Œç”¨æ¥å‘Šè¯‰ dva æˆ‘ä»¬æƒ³è¦å¹²ä»€ä¹ˆã€‚æˆ‘ä»¬å¯ä»¥\bé€‰æ‹©ç»™ action é™„ç€å…¶ä»–\bå­—æ®µï¼Œè¿™é‡Œçº¦å®šç”¨ "),a("code",[t._v("payload")]),t._v("å­—æ®µè¡¨ç¤ºé¢å¤–ä¿¡æ¯ã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("æˆ‘ä»¬æŠŠæƒ³åšçš„äº‹æƒ…é€šè¿‡ action æè¿°å‡ºæ¥ï¼Œå¹¶é€šè¿‡ dispatch å‘Šè¯‰ dva modelï¼Œè€Œå¯¹è¿™ä¸ªæ¶ˆæ¯çš„å¤„ç†å°±æ˜¯ dva çš„äº‹æƒ…äº†ã€‚å¦‚æœæ·±å…¥äº†è§£ React çš„è¯»è€…ï¼Œä¸€å®šè§‰å¾—è¿™å¥è¯ä¼¼æ›¾ç›¸è¯†ã€‚æ˜¯çš„ï¼Œdva å’Œ React å“²å­¦ä¸€è„‰ç›¸æ‰¿ï¼ŒReact ä¹Ÿæ˜¯\béµå¾ªè¿™ä¸ªåŸç†å·¥ä½œçš„ï¼Œåœ¨ç»„ä»¶ä¸­æ€»è¦å†™ä¸€ä¸ª render å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å°±\bæ˜¯å‘ React æè¿°ä½ æƒ³è¦æ¸²æŸ“å‡ºçš„å†…å®¹ï¼Œä½œä¸ºå¼€å‘è€…ä½ å¹¶ä¸ä¼šå»ç›´æ¥æ“ä½œ DOMï¼Œè€Œ React è´Ÿè´£\bæŠŠ render \bå‡½æ•°çš„è¿”å›å€¼è½¬åŒ–\bæˆ DOM å…ƒç´ ï¼Œå¹¶ç”± React æœ€ç»ˆå†³å®šæ¸²æŸ“ DOM çš„æ—¶æœºå’Œæµç¨‹ï¼ˆReact æ¸²æŸ“å¼•æ“çš„æ‰§è¡Œæ˜¯ä¸ªå¼‚æ­¥çš„è¿‡ç¨‹ï¼‰ã€‚")])]),t._v(" "),a("p",[t._v('æ¥ä¸‹æ¥çš„é—®é¢˜æ˜¯ï¼šæ´¾å‘å‡ºçš„ action æ€æ ·è¢« dva è¯†åˆ«å¹¶æ‰§è¡Œ "æ·»åŠ å¡ç‰‡" çš„é€»è¾‘å‘¢ ï¼Ÿ')]),t._v(" "),a("h3",{attrs:{id:"å®šä¹‰-reducer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®šä¹‰-reducer","aria-hidden":"true"}},[t._v("#")]),t._v(" å®šä¹‰ reducer")]),t._v(" "),a("p",[t._v("dva\b model ä¸­å¯ä»¥å®šä¹‰ä¸€ä¸ªå«åš "),a("code",[t._v("reducers")]),t._v(" çš„æˆå‘˜ç”¨æ¥å“åº” action å¹¶ä¿®æ”¹ stateã€‚æ¯ä¸€ä¸ª reducer \béƒ½æ˜¯ä¸€ä¸ª functionï¼Œaction æ´¾å‘åï¼Œé€šè¿‡ action.type è¢«å”¯ä¸€åœ°åŒ¹é…åˆ°ï¼Œéšåæ‰§è¡Œå‡½æ•°ä½“é€»è¾‘ï¼Œè¿”å›å€¼è¢« dva ä½¿ç”¨ä½œä¸ºæ–°çš„ stateã€‚state çš„æ”¹å˜\béšåä¼šè¢« connect æ³¨å…¥åˆ°ç»„ä»¶ä¸­ï¼Œè§¦å‘è§†å›¾æ”¹å˜ã€‚")]),t._v(" "),a("p",[t._v("reducer çš„æ ·å­å¤§æ¦‚æ˜¯ï¼š")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("someReducer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* old state */")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" payload "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ... do calculation")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ... build a new object as next state and return it")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v('reducer åº”è¯¥æ˜¯ä¸€ä¸ª "çº¯å‡½æ•°"ï¼Œå®ƒçš„è¿”å›å€¼ä½œä¸º\bæ–°çš„ stateã€‚dva ä¼šæ³¨å…¥æ—§çš„ state å’Œ action ä¸­çš„ payloadï¼Œæ˜¯å¦ä½¿ç”¨å®Œå…¨æ ¹æ®\béœ€è¦å†³å®šï¼›è¿”å›å€¼å¿…é¡»æ˜¯ä¸€ä¸ªæ–°æ„é€ å¯¹è±¡ï¼Œç»ä¸èƒ½æŠŠæ—§ state çš„å¼•ç”¨è¿”å›ï¼')]),t._v(" "),a("blockquote",[a("p",[t._v("reducer å¹²çš„äº‹æƒ…å’Œ React ä¸­ "),a("code",[t._v("setState(prevState => { ... })")]),t._v(" å¾ˆåƒï¼Œéƒ½è¦è¿”å›ä¸€ä¸ªæ–°æ„é€ çš„å¯¹è±¡ï¼Œä½†åŒºåˆ«æ˜¯\b\bï¼šreducer \bçš„è¿”å›å€¼ä¼š "),a("strong",[t._v("æ•´ä¸ªå–ä»£ (Replace)")]),t._v(" è€çš„ stateï¼Œè€Œ setState ä¸­å›è°ƒå‡½æ•°çš„è¿”å›å€¼æ˜¯ä¼š "),a("strong",[t._v("èåˆ(Merge)")]),t._v(" åˆ°è€çš„ state ä¸­å»ã€‚")])]),t._v(" "),a("p",[t._v("ä¸‹å›¾æ ‡ç¤ºäº†ç”± dva é©±åŠ¨çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œ")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://gw.alipayobjects.com/zos/rmsportal/uhUMfTcXxfskqbreAXth.png",alt:"reducers_data_flow.png"}})])])},[],!1,null,null,null);s.default=p.exports}}]);